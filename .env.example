# =============================================================================
# Simplify Downloader environment template
# =============================================================================
# Copy this file to `.env` (never commit secrets) and replace placeholder values
# with real credentials before running any CLI entry points.
# =============================================================================

# --- Runtime context ---------------------------------------------------------
RUN_ENV="production"
# Optional alternative consumed by some scripts (falls back to RUN_ENV)
ENVIRONMENT="production"
PIPELINE_TIMEZONE="Asia/Kolkata"

# --- Database & migrations ---------------------------------------------------
DATABASE_URL="postgresql+asyncpg://user:password@db:5432/simplify"
ALEMBIC_CONFIG="alembic.ini"

# --- Simplify credentials ----------------------------------------------------
TD_GLOBAL_USERNAME=""
TD_GLOBAL_PASSWORD=""
TD_STORAGE_STATE_FILENAME="storage_state.json"
TD_BASE_URL="https://simplifytumbledry.in"
TD_HOME_URL="https://simplifytumbledry.in/home"
TD_LOGIN_URL="https://simplifytumbledry.in/home/login"
TMS_BASE="https://tms.simplifytumbledry.in"  # fallback when TD_BASE_URL is unset
TD_STORE_DASHBOARD_PATH="/mis/partner_dashboard?store_code={store_code}"

# --- Store selection ---------------------------------------------------------
# Comma-separated values passed to dashboard downloaders when --stores_list
# is omitted. Leave blank to require the CLI flag.
STORES_LIST="A668,A817"
# Stores used for PDF/report generation.
REPORT_STORES_LIST="A668,A817"

# --- Output directories & logging -------------------------------------------
REPORTS_ROOT="reports"
JSON_LOG_FILE="logs/simplify_downloader.jsonl"

# --- Pipeline tuning --------------------------------------------------------
INGEST_BATCH_SIZE="3000"

# --- PDF renderer ------------------------------------------------------------
PDF_RENDER_BACKEND="local_chrome"
PDF_RENDER_HEADLESS="true"
PDF_RENDER_CHROME_EXECUTABLE="/usr/bin/google-chrome"

# --- Notification SMTP configuration ----------------------------------------
REPORT_EMAIL_FROM="reports@example.com"
REPORT_EMAIL_SMTP_HOST="smtp.example.com"
REPORT_EMAIL_SMTP_PORT="587"
REPORT_EMAIL_SMTP_USERNAME=""
REPORT_EMAIL_SMTP_PASSWORD=""
REPORT_EMAIL_USE_TLS="true"
