{"run_id": "20260111_124156453144", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:41:56.453545+00:00"}
{"run_id": "20260111_124156453144", "phase": "init", "status": "ok", "message": "Loaded store rows", "sync_group": "TD", "store_count": 2, "stores": ["A817", "A668"], "ts": "2026-01-11T12:41:56.556814+00:00"}
{"run_id": "20260111_124156453144", "phase": "init", "status": "ok", "message": "Loaded store rows", "sync_group": "UC", "store_count": 2, "stores": ["UC567", "UC610"], "ts": "2026-01-11T12:41:56.557944+00:00"}
{"run_id": "20260111_124156453144", "phase": "store", "status": "ok", "message": "Computed window plan", "store_code": "A668", "start_date": "2025-02-28", "end_date": "2026-01-11", "window_days": 90, "overlap_days": 2, "window_count": 4, "ts": "2026-01-11T12:41:56.896047+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A668", "from_date": "2025-02-28", "to_date": "2025-05-28", "window_index": 1, "window_attempt": 1, "ts": "2026-01-11T12:41:56.896207+00:00"}
{"run_id": "20260111_124156453144_A668_001", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:41:56.896653+00:00"}
{"run_id": "20260111_124156453144", "phase": "store", "status": "ok", "message": "Computed window plan", "store_code": "A817", "start_date": "2025-05-10", "end_date": "2026-01-11", "window_days": 90, "overlap_days": 2, "window_count": 3, "ts": "2026-01-11T12:41:56.898873+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A817", "from_date": "2025-05-10", "to_date": "2025-08-07", "window_index": 1, "window_attempt": 1, "ts": "2026-01-11T12:41:56.898971+00:00"}
{"run_id": "20260111_124156453144_A817_001", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:41:56.899509+00:00"}
{"run_id": "20260111_124156453144", "phase": "store", "status": "ok", "message": "Computed window plan", "store_code": "UC567", "start_date": "2025-02-09", "end_date": "2026-01-11", "window_days": 90, "overlap_days": 2, "window_count": 4, "ts": "2026-01-11T12:41:56.900393+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "UC567", "from_date": "2025-02-09", "to_date": "2025-05-09", "window_index": 1, "window_attempt": 1, "ts": "2026-01-11T12:41:56.900478+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:41:56.901874+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "run_summary", "status": "ok", "message": "Run summary inserted at start", "overall_status": "running", "ts": "2026-01-11T12:41:57.034371+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "init", "status": "ok", "message": "Starting UC orders sync discovery flow", "run_env": "dev", "from_date": "2025-02-09", "to_date": "2025-05-09", "ts": "2026-01-11T12:41:57.034516+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:41:57.034617+00:00"}
{"run_id": "20260111_124156453144_A668_001", "phase": "run_summary", "status": "ok", "message": "Run summary inserted at start", "overall_status": "running", "ts": "2026-01-11T12:41:57.035634+00:00"}
{"run_id": "20260111_124156453144_A668_001", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-02-28", "to_date": "2025-05-28", "ts": "2026-01-11T12:41:57.035721+00:00"}
{"run_id": "20260111_124156453144_A668_001", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:41:57.035769+00:00"}
{"run_id": "20260111_124156453144_A817_001", "phase": "run_summary", "status": "ok", "message": "Run summary inserted at start", "overall_status": "running", "ts": "2026-01-11T12:41:57.036143+00:00"}
{"run_id": "20260111_124156453144_A817_001", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-05-10", "to_date": "2025-08-07", "ts": "2026-01-11T12:41:57.036216+00:00"}
{"run_id": "20260111_124156453144_A817_001", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:41:57.036258+00:00"}
{"run_id": "20260111_124156453144_A817_001", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A817"], "skipped_stores": null, "ts": "2026-01-11T12:41:57.040470+00:00"}
{"run_id": "20260111_124156453144_A817_001", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A817"], "ts": "2026-01-11T12:41:57.040534+00:00"}
{"run_id": "20260111_124156453144_A668_001", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A668"], "skipped_stores": null, "ts": "2026-01-11T12:41:57.048243+00:00"}
{"run_id": "20260111_124156453144_A668_001", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A668"], "ts": "2026-01-11T12:41:57.048361+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "init", "status": "ok", "message": "Loaded UC store rows", "store_count": 1, "stores": ["UC567"], "ts": "2026-01-11T12:41:57.184947+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:41:58.200046+00:00"}
{"run_id": "20260111_124156453144_A668_001", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:41:58.216541+00:00"}
{"run_id": "20260111_124156453144_A817_001", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:41:58.220387+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "store", "status": "ok", "message": "Starting UC store discovery", "store_code": "UC567", "store_name": "Sector 56, Gurgaon", "run_env": "dev", "ts": "2026-01-11T12:41:59.555631+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-05-10", "to_date": "2025-08-07", "ts": "2026-01-11T12:41:59.561449+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-02-28", "to_date": "2025-05-28", "ts": "2026-01-11T12:41:59.563711+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (6, '20260111_124156453144_A817_001', 'dev', 'KN3817', 'A817', datetime.date(2025, 5, 10), datetime.date(2025, 8, 7), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:41:59.821777+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "store_code": "UC567", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (7, '20260111_124156453144_UC567_001', 'dev', 'SC3567', 'UC567', datetime.date(2025, 2, 9), datetime.date(2025, 5, 9), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:42:00.079347+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (6, '20260111_124156453144_A668_001', 'dev', 'UN3668', 'A668', datetime.date(2025, 2, 28), datetime.date(2025, 5, 28), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:42:00.080579+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "ts": "2026-01-11T12:42:01.157229+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "login", "status": "ok", "message": "Reusing existing storage state", "store_code": "UC567", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/UC567_storage_state.json", "ts": "2026-01-11T12:42:01.246401+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "ts": "2026-01-11T12:42:01.342862+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T12:42:07.429436+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T12:42:07.429692+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T12:42:07.494026+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T12:42:07.494199+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T12:42:08.988340+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T12:42:08.988568+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T12:42:08.988757+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T12:42:09.047143+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T12:42:09.047439+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T12:42:09.047650+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T12:42:10.436834+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T12:42:10.437178+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "verification_seen": false, "ts": "2026-01-11T12:42:10.459544+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T12:42:10.530678+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T12:42:11.762335+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T12:42:11.762457+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "verification_seen": false, "ts": "2026-01-11T12:42:11.783777+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "session", "status": "ok", "message": "Persisted storage state for A817 after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "session_reused": true, "refreshed": true, "ts": "2026-01-11T12:42:11.784134+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T12:42:11.845072+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T12:42:45.571632+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T12:42:46.897239+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:11", "ts": "2026-01-11T12:42:47.001837+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:11", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T12:42:47.002088+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:11", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T12:42:47.042515+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:42:47.042684+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:12", "ts": "2026-01-11T12:42:48.002661+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:12", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T12:42:48.002818+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:12", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T12:42:48.038082+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:42:48.038215+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T12:42:49.166329+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T12:42:49.166434+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T12:42:49.586693+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T12:42:49.586795+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-02-28", "to_value": "2025-05-28", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Feb 28, 2025 - May 28, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:42:51.372591+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-05-10", "to_value": "2025-08-07", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "May 10, 2025 - Aug 7, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:42:51.989176+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 517, "ts": "2026-01-11T12:42:52.022917+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:42:52.120364+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:42:52.120469+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:42:52.180209+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 397, "ts": "2026-01-11T12:42:52.482510+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:42:52.573204+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:42:52.573355+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:42:52.628602+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "navigation", "status": "ok", "message": "Home page ready", "store_code": "UC567", "home_url": "https://store.ucleanlaundry.com/dashboard", "selector": "header", "current_url": "https://store.ucleanlaundry.com/dashboard", "source": "session", "ts": "2026-01-11T12:43:20.351434+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "navigation", "status": "ok", "message": "GST report readiness signal detected", "store_code": "UC567", "ts": "2026-01-11T12:43:21.048130+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "navigation", "status": "ok", "message": "GST reports navigation path selected", "store_code": "UC567", "path": "direct URL", "current_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:43:21.048237+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "filters", "status": "debug", "message": "Date picker popup selector detection results", "store_code": "UC567", "attempt": 1, "detected_selectors": {".calendar-body.show": 1, ".calendar-body .calendar": 1, "mat-calendar": 2, "[class*='mat-calendar']": 214, ".mat-calendar-content": 2}, "ts": "2026-01-11T12:43:21.213284+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC567", "calendar_label": "start", "target_month": "FEB 2025", "displayed_month": "FEB 2025", "prev_clicks": 11, "next_clicks": 0, "ts": "2026-01-11T12:43:24.403193+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC567", "calendar_label": "start", "selected_date": "2025-02-09", "displayed_month": "FEB 2025", "ts": "2026-01-11T12:43:24.549477+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC567", "calendar_label": "end", "target_month": "MAY 2025", "displayed_month": "MAY 2025", "prev_clicks": 8, "next_clicks": 0, "ts": "2026-01-11T12:43:26.853588+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "filters", "status": "debug", "message": "End-date calendar day cell selected", "store_code": "UC567", "aria_selected": "true", "ts": "2026-01-11T12:43:27.026776+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC567", "calendar_label": "end", "selected_date": "2025-05-09", "displayed_month": "MAY 2025", "ts": "2026-01-11T12:43:27.026871+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "filters", "status": "warn", "message": "Apply section not found after date selection", "store_code": "UC567", "ts": "2026-01-11T12:43:27.041723+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "filters", "status": "debug", "message": "Calendar overlay visibility counts", "store_code": "UC567", "overlay_count": 1, "apply_count": 1, "ts": "2026-01-11T12:43:27.057711+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "filters", "status": "warn", "message": "GST report rows not detected after applying date range", "store_code": "UC567", "row_count": 0, "ts": "2026-01-11T12:43:27.722784+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "filters", "status": "ok", "message": "GST report row count after apply", "store_code": "UC567", "row_count": 0, "refreshed": false, "overlay_open": false, "ts": "2026-01-11T12:43:27.730493+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "download", "status": "ok", "message": "Checked Export Report button visibility", "store_code": "UC567", "export_selector": "button.btn.primary.export", "export_count": 1, "export_is_visible": true, "attempt": 1, "ts": "2026-01-11T12:43:28.257614+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "download", "status": "ok", "message": "Clicking Export Report button", "store_code": "UC567", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:43:28.272993+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "download", "status": "ok", "message": "Export Report button click completed", "store_code": "UC567", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "click_outcome": "success", "ts": "2026-01-11T12:43:28.394011+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "download", "status": "ok", "message": "GST report download saved", "store_code": "UC567", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC567_uc_gst_20250209_20250509.xlsx", "suggested_filename": "GST_Report_2025-02-09_to_2025-05-09.xlsx", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:43:28.423158+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "ingest", "status": "ok", "message": "UC GST workbook ingested", "store_code": "UC567", "staging_rows": 277, "final_rows": 277, "staging_inserted": 277, "staging_updated": 0, "final_inserted": 277, "final_updated": 0, "ts": "2026-01-11T12:43:30.482501+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "selectors", "status": "ok", "message": "Skipped GST report selector cue capture because DOM logging is disabled", "store_code": "UC567", "ts": "2026-01-11T12:43:30.482616+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "store", "status": "ok", "message": "UC store discovery complete", "store_code": "UC567", "final_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:43:30.482981+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "uc_window", "status": "ok", "message": "UC GST window complete", "store_code": "UC567", "from_date": "2025-02-09", "to_date": "2025-05-09", "gst_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC567_uc_gst_20250209_20250509.xlsx", "gst_ingested_rows": 277, "final_status": "success", "ts": "2026-01-11T12:43:30.483038+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "notifications", "status": "ok", "message": "UC orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T12:43:30.997660+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "ok", "ts": "2026-01-11T12:43:31.020701+00:00"}
{"run_id": "20260111_124156453144_UC567_001", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "UC567", "window_index": 1, "window_status": "success", "ts": "2026-01-11T12:43:41.134746+00:00"}
{"run_id": "20260111_124156453144", "phase": "window_result", "status": "ok", "message": "Window completed", "store_code": "UC567", "pipeline_name": "uc_orders_sync", "window_run_id": "20260111_124156453144_UC567_001", "window_index": 1, "from_date": "2025-02-09", "to_date": "2025-05-09", "window_status": "success", "status_note": " (from pipeline run summary)", "error_message": null, "download_paths": {"gst": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC567_uc_gst_20250209_20250509.xlsx", "filenames": "UC567_uc_gst_20250209_20250509.xlsx"}}, "ingestion_counts": {"gst": {"staging_rows": 277, "final_rows": 277, "staging_inserted": 277, "staging_updated": 0, "final_inserted": 277, "final_updated": 0}}, "ts": "2026-01-11T12:43:41.134910+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "UC567", "from_date": "2025-05-08", "to_date": "2025-08-05", "window_index": 2, "window_attempt": 1, "ts": "2026-01-11T12:43:41.135001+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:43:41.135349+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "run_summary", "status": "ok", "message": "Run summary inserted at start", "overall_status": "running", "ts": "2026-01-11T12:43:41.138762+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "init", "status": "ok", "message": "Starting UC orders sync discovery flow", "run_env": "dev", "from_date": "2025-05-08", "to_date": "2025-08-05", "ts": "2026-01-11T12:43:41.138833+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:43:41.138901+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "init", "status": "ok", "message": "Loaded UC store rows", "store_count": 1, "stores": ["UC567"], "ts": "2026-01-11T12:43:41.141657+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:43:41.765953+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "store", "status": "ok", "message": "Starting UC store discovery", "store_code": "UC567", "store_name": "Sector 56, Gurgaon", "run_env": "dev", "ts": "2026-01-11T12:43:42.411524+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "store_code": "UC567", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (7, '20260111_124156453144_UC567_002', 'dev', 'SC3567', 'UC567', datetime.date(2025, 5, 8), datetime.date(2025, 8, 5), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:43:42.443178+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "login", "status": "ok", "message": "Reusing existing storage state", "store_code": "UC567", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/UC567_storage_state.json", "ts": "2026-01-11T12:43:43.276458+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 28 Feb 2025 - 28 May 2025 11 Jan 2026 06:12 PM Download", "expected_range_texts": ["Feb 28, 2025 - May 28, 2025", "28 Feb 2025 - 28 May 2025", "Feb 28 2025 - May 28 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:44:24.088798+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Extended report request poll window to ETA", "eta_seconds": 1680, "pending_eta_seconds": null, "new_timeout_ms": 1680000, "range_match_strategy": "date_range_text_pattern", "ts": "2026-01-11T12:44:24.089488+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 28 Feb 2025 - 28 May 2025 11 Jan 2026 06:12 PM Download", "expected_range_texts": ["Feb 28, 2025 - May 28, 2025", "28 Feb 2025 - 28 May 2025", "Feb 28 2025 - May 28 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:44:24.089588+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 10 May 2025 - 07 Aug 2025 11 Jan 2026 06:12 PM Download", "expected_range_texts": ["May 10, 2025 - Aug 7, 2025", "10 May 2025 - 07 Aug 2025", "May 10, 2025 - Aug 07, 2025", "May 10 2025 - Aug 07 2025", "10 May 2025 - 7 Aug 2025", "May 10 2025 - Aug 7 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:44:24.503256+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Extended report request poll window to ETA", "eta_seconds": 600, "pending_eta_seconds": null, "new_timeout_ms": 600000, "range_match_strategy": "date_range_text_pattern", "ts": "2026-01-11T12:44:24.503436+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 10 May 2025 - 07 Aug 2025 11 Jan 2026 06:12 PM Download", "expected_range_texts": ["May 10, 2025 - Aug 7, 2025", "10 May 2025 - 07 Aug 2025", "May 10, 2025 - Aug 07, 2025", "May 10 2025 - Aug 07 2025", "10 May 2025 - 7 Aug 2025", "May 10 2025 - Aug 7 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:44:24.503498+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250228_20250528.xlsx", "suggested_filename": "1170-Wz9EKJIKIvuCcQfim1l2V.xlsx", "expected_range_texts": ["Feb 28, 2025 - May 28, 2025", "28 Feb 2025 - 28 May 2025", "Feb 28 2025 - May 28 2025"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:44:24.951649+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20250510_20250807.xlsx", "suggested_filename": "1247-ssD_0qa4jm-KB45xp45tI.xlsx", "expected_range_texts": ["May 10, 2025 - Aug 7, 2025", "10 May 2025 - 07 Aug 2025", "May 10, 2025 - Aug 07, 2025", "May 10 2025 - Aug 07 2025", "10 May 2025 - 7 Aug 2025", "May 10 2025 - Aug 7 2025"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:44:25.433600+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "ingest", "status": "ok", "message": "TD Orders workbook ingested", "staging_rows": 413, "final_rows": 413, "ts": "2026-01-11T12:44:31.720993+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:12", "ts": "2026-01-11T12:44:31.722725+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T12:44:31.882849+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T12:44:31.898748+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "ingest", "status": "ok", "message": "TD Orders workbook ingested", "staging_rows": 450, "final_rows": 450, "ts": "2026-01-11T12:44:32.110698+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:11", "ts": "2026-01-11T12:44:32.111047+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T12:44:32.221590+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T12:44:32.234839+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:47:527", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:12"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:12"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:12"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:47:527"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:47:527"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T12:44:32.630041+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:47:527", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:47:527", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:12"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:12"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:12"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:47:527"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:47:527"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T12:44:32.630470+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:47:527", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T12:44:32.638195+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:47:527", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T12:44:32.756538+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:44:32.756720+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:46:460", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:11"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:11"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:11"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:46:460"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:46:460"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T12:44:32.980416+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:46:460", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:46:460", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:11"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:11"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:12:11"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:46:460"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:46:460"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T12:44:32.980695+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:46:460", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T12:44:32.987903+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:12:46:460", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T12:44:33.032453+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:44:33.032718+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe_preflight", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T12:44:34.164928+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe_preflight", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T12:44:34.353644+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-02-28", "to_value": "2025-05-28", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Feb 28, 2025 - May 28, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:44:41.401761+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-05-10", "to_value": "2025-08-07", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "May 10, 2025 - Aug 7, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:44:41.470379+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 418, "ts": "2026-01-11T12:44:41.949065+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:44:42.031836+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:44:42.031981+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 413, "ts": "2026-01-11T12:44:42.047268+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:44:42.077494+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:44:42.134142+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:44:42.134244+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:44:42.178128+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "navigation", "status": "ok", "message": "Home page ready", "store_code": "UC567", "home_url": "https://store.ucleanlaundry.com/dashboard", "selector": "header", "current_url": "https://store.ucleanlaundry.com/dashboard", "source": "session", "ts": "2026-01-11T12:45:01.847527+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "navigation", "status": "ok", "message": "GST report readiness signal detected", "store_code": "UC567", "ts": "2026-01-11T12:45:02.415422+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "navigation", "status": "ok", "message": "GST reports navigation path selected", "store_code": "UC567", "path": "direct URL", "current_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:45:02.415521+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "filters", "status": "debug", "message": "Date picker popup selector detection results", "store_code": "UC567", "attempt": 1, "detected_selectors": {".calendar-body.show": 1, ".calendar-body .calendar": 1, "mat-calendar": 2, "[class*='mat-calendar']": 214, ".mat-calendar-content": 2}, "ts": "2026-01-11T12:45:02.571083+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC567", "calendar_label": "start", "target_month": "MAY 2025", "displayed_month": "MAY 2025", "prev_clicks": 8, "next_clicks": 0, "ts": "2026-01-11T12:45:04.933664+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC567", "calendar_label": "start", "selected_date": "2025-05-08", "displayed_month": "MAY 2025", "ts": "2026-01-11T12:45:05.095886+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC567", "calendar_label": "end", "target_month": "AUG 2025", "displayed_month": "AUG 2025", "prev_clicks": 5, "next_clicks": 0, "ts": "2026-01-11T12:45:06.550197+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "filters", "status": "debug", "message": "End-date calendar day cell selected", "store_code": "UC567", "aria_selected": "true", "ts": "2026-01-11T12:45:06.723363+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC567", "calendar_label": "end", "selected_date": "2025-08-05", "displayed_month": "AUG 2025", "ts": "2026-01-11T12:45:06.723507+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "filters", "status": "warn", "message": "Apply section not found after date selection", "store_code": "UC567", "ts": "2026-01-11T12:45:06.737356+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "filters", "status": "debug", "message": "Calendar overlay visibility counts", "store_code": "UC567", "overlay_count": 1, "apply_count": 1, "ts": "2026-01-11T12:45:06.753119+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "filters", "status": "warn", "message": "GST report rows not detected after applying date range", "store_code": "UC567", "row_count": 0, "ts": "2026-01-11T12:45:07.421734+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "filters", "status": "ok", "message": "GST report row count after apply", "store_code": "UC567", "row_count": 0, "refreshed": false, "overlay_open": false, "ts": "2026-01-11T12:45:07.429187+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "download", "status": "ok", "message": "Checked Export Report button visibility", "store_code": "UC567", "export_selector": "button.btn.primary.export", "export_count": 1, "export_is_visible": true, "attempt": 1, "ts": "2026-01-11T12:45:07.959361+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "download", "status": "ok", "message": "Clicking Export Report button", "store_code": "UC567", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:45:07.971463+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "download", "status": "ok", "message": "Export Report button click completed", "store_code": "UC567", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "click_outcome": "success", "ts": "2026-01-11T12:45:08.070478+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "download", "status": "ok", "message": "GST report download saved", "store_code": "UC567", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC567_uc_gst_20250508_20250805.xlsx", "suggested_filename": "GST_Report_2025-05-08_to_2025-08-05.xlsx", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:45:08.098055+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "ingest", "status": "ok", "message": "UC GST workbook ingested", "store_code": "UC567", "staging_rows": 271, "final_rows": 271, "staging_inserted": 263, "staging_updated": 7, "final_inserted": 263, "final_updated": 7, "ts": "2026-01-11T12:45:09.887544+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "selectors", "status": "ok", "message": "Skipped GST report selector cue capture because DOM logging is disabled", "store_code": "UC567", "ts": "2026-01-11T12:45:09.887639+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "store", "status": "ok", "message": "UC store discovery complete", "store_code": "UC567", "final_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:45:09.888039+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "uc_window", "status": "ok", "message": "UC GST window complete", "store_code": "UC567", "from_date": "2025-05-08", "to_date": "2025-08-05", "gst_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC567_uc_gst_20250508_20250805.xlsx", "gst_ingested_rows": 271, "final_status": "success", "ts": "2026-01-11T12:45:09.888096+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "notifications", "status": "ok", "message": "UC orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T12:45:10.285043+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "ok", "ts": "2026-01-11T12:45:10.295921+00:00"}
{"run_id": "20260111_124156453144_UC567_002", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "UC567", "window_index": 2, "window_status": "success", "ts": "2026-01-11T12:45:19.141856+00:00"}
{"run_id": "20260111_124156453144", "phase": "window_result", "status": "ok", "message": "Window completed", "store_code": "UC567", "pipeline_name": "uc_orders_sync", "window_run_id": "20260111_124156453144_UC567_002", "window_index": 2, "from_date": "2025-05-08", "to_date": "2025-08-05", "window_status": "success", "status_note": " (from pipeline run summary)", "error_message": null, "download_paths": {"gst": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC567_uc_gst_20250508_20250805.xlsx", "filenames": "UC567_uc_gst_20250508_20250805.xlsx"}}, "ingestion_counts": {"gst": {"staging_rows": 271, "final_rows": 271, "staging_inserted": 263, "staging_updated": 7, "final_inserted": 263, "final_updated": 7}}, "ts": "2026-01-11T12:45:19.142192+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "UC567", "from_date": "2025-08-04", "to_date": "2025-11-01", "window_index": 3, "window_attempt": 1, "ts": "2026-01-11T12:45:19.142375+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:45:19.142987+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "run_summary", "status": "ok", "message": "Run summary inserted at start", "overall_status": "running", "ts": "2026-01-11T12:45:19.163747+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "init", "status": "ok", "message": "Starting UC orders sync discovery flow", "run_env": "dev", "from_date": "2025-08-04", "to_date": "2025-11-01", "ts": "2026-01-11T12:45:19.163844+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:45:19.163963+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "init", "status": "ok", "message": "Loaded UC store rows", "store_count": 1, "stores": ["UC567"], "ts": "2026-01-11T12:45:19.176795+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:45:19.669805+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "store", "status": "ok", "message": "Starting UC store discovery", "store_code": "UC567", "store_name": "Sector 56, Gurgaon", "run_env": "dev", "ts": "2026-01-11T12:45:20.208382+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "store_code": "UC567", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (7, '20260111_124156453144_UC567_003', 'dev', 'SC3567', 'UC567', datetime.date(2025, 8, 4), datetime.date(2025, 11, 1), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:45:20.224527+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "login", "status": "ok", "message": "Reusing existing storage state", "store_code": "UC567", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/UC567_storage_state.json", "ts": "2026-01-11T12:45:21.045230+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 28 Feb 2025 - 28 May 2025 11 Jan 2026 06:14 PM Download", "expected_range_texts": ["Feb 28, 2025 - May 28, 2025", "28 Feb 2025 - 28 May 2025", "Feb 28 2025 - May 28 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:46:20.014224+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Extended report request poll window to ETA", "eta_seconds": 1680, "pending_eta_seconds": null, "new_timeout_ms": 1680000, "range_match_strategy": "date_range_text_pattern", "ts": "2026-01-11T12:46:20.014406+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 28 Feb 2025 - 28 May 2025 11 Jan 2026 06:14 PM Download", "expected_range_texts": ["Feb 28, 2025 - May 28, 2025", "28 Feb 2025 - 28 May 2025", "Feb 28 2025 - May 28 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:46:20.014486+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 10 May 2025 - 07 Aug 2025 11 Jan 2026 06:14 PM Download", "expected_range_texts": ["May 10, 2025 - Aug 7, 2025", "10 May 2025 - 07 Aug 2025", "May 10, 2025 - Aug 07, 2025", "May 10 2025 - Aug 07 2025", "10 May 2025 - 7 Aug 2025", "May 10 2025 - Aug 7 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:46:20.177007+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Extended report request poll window to ETA", "eta_seconds": 600, "pending_eta_seconds": null, "new_timeout_ms": 600000, "range_match_strategy": "date_range_text_pattern", "ts": "2026-01-11T12:46:20.177178+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 10 May 2025 - 07 Aug 2025 11 Jan 2026 06:14 PM Download", "expected_range_texts": ["May 10, 2025 - Aug 7, 2025", "10 May 2025 - 07 Aug 2025", "May 10, 2025 - Aug 07, 2025", "May 10 2025 - Aug 07 2025", "10 May 2025 - 7 Aug 2025", "May 10 2025 - Aug 7 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:46:20.177252+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250228_20250528.xlsx", "suggested_filename": "1170-sPqFp9kWScdcs31SP9rsl.xlsx", "expected_range_texts": ["Feb 28, 2025 - May 28, 2025", "28 Feb 2025 - 28 May 2025", "Feb 28 2025 - May 28 2025"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:46:20.745433+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250228_20250528.xlsx", "ts": "2026-01-11T12:46:20.745703+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20250510_20250807.xlsx", "suggested_filename": "1247-bQml57aVodhe-OEDTF-LK.xlsx", "expected_range_texts": ["May 10, 2025 - Aug 7, 2025", "10 May 2025 - 07 Aug 2025", "May 10, 2025 - Aug 07, 2025", "May 10 2025 - Aug 07 2025", "10 May 2025 - 7 Aug 2025", "May 10 2025 - Aug 7 2025"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:46:20.959687+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20250510_20250807.xlsx", "ts": "2026-01-11T12:46:20.959806+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "sales_ingest", "status": "ok", "message": "TD Sales workbook ingested", "staging_rows": 338, "final_rows": 338, "ts": "2026-01-11T12:46:24.122775+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20250510_20250807.xlsx", "ts": "2026-01-11T12:46:24.123020+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T12:46:24.123095+00:00"}
{"run_id": "20260111_124156453144_A817_001", "store_code": "A817", "phase": "window_summary", "status": "ok", "message": "TD window summary", "from_date": "2025-05-10", "to_date": "2025-08-07", "orders_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20250510_20250807.xlsx", "sales_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20250510_20250807.xlsx", "orders_ingested_rows": 413, "sales_ingested_rows": 338, "final_status": "success", "ts": "2026-01-11T12:46:24.123174+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "sales_ingest", "status": "ok", "message": "TD Sales workbook ingested", "staging_rows": 369, "final_rows": 369, "ts": "2026-01-11T12:46:24.259602+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250228_20250528.xlsx", "ts": "2026-01-11T12:46:24.259895+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T12:46:24.259984+00:00"}
{"run_id": "20260111_124156453144_A668_001", "store_code": "A668", "phase": "window_summary", "status": "ok", "message": "TD window summary", "from_date": "2025-02-28", "to_date": "2025-05-28", "orders_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250228_20250528.xlsx", "sales_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250228_20250528.xlsx", "orders_ingested_rows": 450, "sales_ingested_rows": 369, "final_status": "success", "ts": "2026-01-11T12:46:24.260061+00:00"}
{"run_id": "20260111_124156453144_A817_001", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T12:46:24.906539+00:00"}
{"run_id": "20260111_124156453144_A817_001", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "ok", "ts": "2026-01-11T12:46:24.934474+00:00"}
{"run_id": "20260111_124156453144_A817_001", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A817", "window_index": 1, "window_status": "success", "ts": "2026-01-11T12:46:34.673096+00:00"}
{"run_id": "20260111_124156453144", "phase": "window_result", "status": "ok", "message": "Window completed", "store_code": "A817", "pipeline_name": "td_orders_sync", "window_run_id": "20260111_124156453144_A817_001", "window_index": 1, "from_date": "2025-05-10", "to_date": "2025-08-07", "window_status": "success", "status_note": " (from pipeline run summary)", "error_message": null, "download_paths": {"orders": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20250510_20250807.xlsx", "filenames": ["A817_td_orders_20250510_20250807.xlsx"]}, "sales": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20250510_20250807.xlsx", "filenames": ["A817_td_sales_20250510_20250807.xlsx"]}}, "ingestion_counts": {"orders": {"rows_downloaded": 413, "rows_ingested": 413, "staging_rows": 413, "final_rows": 413}, "sales": {"rows_downloaded": 338, "rows_ingested": 338, "staging_rows": 338, "final_rows": 338}}, "ts": "2026-01-11T12:46:34.673266+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A817", "from_date": "2025-08-06", "to_date": "2025-11-03", "window_index": 2, "window_attempt": 1, "ts": "2026-01-11T12:46:34.673463+00:00"}
{"run_id": "20260111_124156453144_A817_002", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:46:34.673948+00:00"}
{"run_id": "20260111_124156453144_A668_001", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T12:46:34.678243+00:00"}
{"run_id": "20260111_124156453144_A668_001", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "ok", "ts": "2026-01-11T12:46:34.716849+00:00"}
{"run_id": "20260111_124156453144_A817_002", "phase": "run_summary", "status": "ok", "message": "Run summary inserted at start", "overall_status": "running", "ts": "2026-01-11T12:46:34.718054+00:00"}
{"run_id": "20260111_124156453144_A817_002", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-08-06", "to_date": "2025-11-03", "ts": "2026-01-11T12:46:34.718131+00:00"}
{"run_id": "20260111_124156453144_A817_002", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:46:34.718202+00:00"}
{"run_id": "20260111_124156453144_A817_002", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A817"], "skipped_stores": null, "ts": "2026-01-11T12:46:34.721526+00:00"}
{"run_id": "20260111_124156453144_A817_002", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A817"], "ts": "2026-01-11T12:46:34.721618+00:00"}
{"run_id": "20260111_124156453144_A817_002", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:46:43.582020+00:00"}
{"run_id": "20260111_124156453144_A668_001", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A668", "window_index": 1, "window_status": "success", "ts": "2026-01-11T12:46:43.588363+00:00"}
{"run_id": "20260111_124156453144", "phase": "window_result", "status": "ok", "message": "Window completed", "store_code": "A668", "pipeline_name": "td_orders_sync", "window_run_id": "20260111_124156453144_A668_001", "window_index": 1, "from_date": "2025-02-28", "to_date": "2025-05-28", "window_status": "success", "status_note": " (from pipeline run summary)", "error_message": null, "download_paths": {"orders": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250228_20250528.xlsx", "filenames": ["A668_td_orders_20250228_20250528.xlsx"]}, "sales": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250228_20250528.xlsx", "filenames": ["A668_td_sales_20250228_20250528.xlsx"]}}, "ingestion_counts": {"orders": {"rows_downloaded": 450, "rows_ingested": 450, "staging_rows": 450, "final_rows": 450}, "sales": {"rows_downloaded": 369, "rows_ingested": 369, "staging_rows": 369, "final_rows": 369}}, "ts": "2026-01-11T12:46:43.588542+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A668", "from_date": "2025-05-27", "to_date": "2025-08-24", "window_index": 2, "window_attempt": 1, "ts": "2026-01-11T12:46:43.588714+00:00"}
{"run_id": "20260111_124156453144_A668_002", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:46:43.589155+00:00"}
{"run_id": "20260111_124156453144_A668_002", "phase": "run_summary", "status": "ok", "message": "Run summary inserted at start", "overall_status": "running", "ts": "2026-01-11T12:46:43.593399+00:00"}
{"run_id": "20260111_124156453144_A668_002", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-05-27", "to_date": "2025-08-24", "ts": "2026-01-11T12:46:43.593484+00:00"}
{"run_id": "20260111_124156453144_A668_002", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:46:43.593532+00:00"}
{"run_id": "20260111_124156453144_A668_002", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A668"], "skipped_stores": null, "ts": "2026-01-11T12:46:43.597207+00:00"}
{"run_id": "20260111_124156453144_A668_002", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A668"], "ts": "2026-01-11T12:46:43.597293+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-08-06", "to_date": "2025-11-03", "ts": "2026-01-11T12:46:44.124120+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (6, '20260111_124156453144_A817_002', 'dev', 'KN3817', 'A817', datetime.date(2025, 8, 6), datetime.date(2025, 11, 3), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:46:44.139757+00:00"}
{"run_id": "20260111_124156453144_A668_002", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:46:44.157083+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-05-27", "to_date": "2025-08-24", "ts": "2026-01-11T12:46:44.755208+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (6, '20260111_124156453144_A668_002', 'dev', 'UN3668', 'A668', datetime.date(2025, 5, 27), datetime.date(2025, 8, 24), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:46:44.769020+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "ts": "2026-01-11T12:46:45.126420+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "ts": "2026-01-11T12:46:45.591205+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "navigation", "status": "ok", "message": "Home page ready", "store_code": "UC567", "home_url": "https://store.ucleanlaundry.com/dashboard", "selector": "header", "current_url": "https://store.ucleanlaundry.com/dashboard", "source": "session", "ts": "2026-01-11T12:46:47.548325+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "navigation", "status": "ok", "message": "GST report readiness signal detected", "store_code": "UC567", "ts": "2026-01-11T12:46:48.127672+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "navigation", "status": "ok", "message": "GST reports navigation path selected", "store_code": "UC567", "path": "direct URL", "current_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:46:48.127775+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "debug", "message": "Date picker popup selector detection results", "store_code": "UC567", "attempt": 1, "detected_selectors": {".calendar-body.show": 1, ".calendar-body .calendar": 1, "mat-calendar": 2, "[class*='mat-calendar']": 214, ".mat-calendar-content": 2}, "ts": "2026-01-11T12:46:48.295213+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC567", "calendar_label": "start", "target_month": "AUG 2025", "displayed_month": "AUG 2025", "prev_clicks": 5, "next_clicks": 0, "ts": "2026-01-11T12:46:49.787214+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC567", "calendar_label": "start", "selected_date": "2025-08-04", "displayed_month": "AUG 2025", "ts": "2026-01-11T12:46:49.949369+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC567", "calendar_label": "end", "target_month": "NOV 2025", "displayed_month": "NOV 2025", "prev_clicks": 2, "next_clicks": 0, "ts": "2026-01-11T12:46:50.550425+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "debug", "message": "End-date calendar day cell selected", "store_code": "UC567", "aria_selected": "true", "ts": "2026-01-11T12:46:50.725194+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC567", "calendar_label": "end", "selected_date": "2025-11-01", "displayed_month": "NOV 2025", "ts": "2026-01-11T12:46:50.725335+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "warn", "message": "Apply section not found after date selection", "store_code": "UC567", "ts": "2026-01-11T12:46:50.740223+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "debug", "message": "Calendar overlay visibility counts", "store_code": "UC567", "overlay_count": 1, "apply_count": 1, "ts": "2026-01-11T12:46:50.757743+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T12:46:51.298515+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T12:46:51.298716+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T12:46:51.447050+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T12:46:51.447280+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "warn", "message": "GST report rows not detected after applying date range", "store_code": "UC567", "row_count": 0, "ts": "2026-01-11T12:46:51.450229+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "ok", "message": "GST report row count after apply", "store_code": "UC567", "row_count": 0, "refreshed": false, "overlay_open": false, "ts": "2026-01-11T12:46:51.459049+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "download", "status": "ok", "message": "Checked Export Report button visibility", "store_code": "UC567", "export_selector": "button.btn.primary.export", "export_count": 1, "export_is_visible": true, "attempt": 1, "ts": "2026-01-11T12:46:51.988969+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "download", "status": "ok", "message": "Clicking Export Report button", "store_code": "UC567", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:46:52.002991+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "download", "status": "ok", "message": "Export Report button click completed", "store_code": "UC567", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "click_outcome": "success", "ts": "2026-01-11T12:46:52.093217+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "download", "status": "ok", "message": "GST report download saved", "store_code": "UC567", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC567_uc_gst_20250804_20251101.xlsx", "suggested_filename": "GST_Report_2025-08-04_to_2025-11-01.xlsx", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:46:52.116835+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T12:46:52.514909+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T12:46:52.515089+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T12:46:52.515241+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T12:46:52.566854+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T12:46:52.567019+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T12:46:52.567120+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T12:46:53.833951+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T12:46:53.834087+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "verification_seen": false, "ts": "2026-01-11T12:46:53.882936+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T12:46:53.926410+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "ingest", "status": "warn", "message": "UC GST workbook ingested with warnings", "store_code": "UC567", "warning_count": 1, "staging_rows": 307, "final_rows": 307, "staging_inserted": 305, "staging_updated": 2, "final_inserted": 305, "final_updated": 2, "ts": "2026-01-11T12:46:54.607535+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "selectors", "status": "ok", "message": "Skipped GST report selector cue capture because DOM logging is disabled", "store_code": "UC567", "ts": "2026-01-11T12:46:54.607640+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "store", "status": "ok", "message": "UC store discovery complete", "store_code": "UC567", "final_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:46:54.608297+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "uc_window", "status": "ok", "message": "UC GST window complete", "store_code": "UC567", "from_date": "2025-08-04", "to_date": "2025-11-01", "gst_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC567_uc_gst_20250804_20251101.xlsx", "gst_ingested_rows": 307, "final_status": "success", "ts": "2026-01-11T12:46:54.608375+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "notifications", "status": "ok", "message": "UC orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T12:46:55.031145+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "warning", "ts": "2026-01-11T12:46:55.080489+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T12:47:04.095084+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T12:47:04.095190+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "UC567", "window_index": 3, "window_status": "partial", "ts": "2026-01-11T12:47:04.102198+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "warn", "message": "Retrying window after non-success status", "store_code": "UC567", "window_index": 3, "window_status": "partial", "window_attempt": 1, "ts": "2026-01-11T12:47:04.102391+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "UC567", "from_date": "2025-08-04", "to_date": "2025-11-01", "window_index": 3, "window_attempt": 2, "ts": "2026-01-11T12:47:04.102494+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:47:04.102979+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "verification_seen": false, "ts": "2026-01-11T12:47:04.106489+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "session", "status": "ok", "message": "Persisted storage state for A817 after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "session_reused": true, "refreshed": true, "ts": "2026-01-11T12:47:04.106586+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T12:47:04.154103+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "run_summary", "status": "ok", "message": "Run summary updated at start", "overall_status": "running", "ts": "2026-01-11T12:47:04.161155+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "init", "status": "ok", "message": "Starting UC orders sync discovery flow", "run_env": "dev", "from_date": "2025-08-04", "to_date": "2025-11-01", "ts": "2026-01-11T12:47:04.161549+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:47:04.161637+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "init", "status": "ok", "message": "Loaded UC store rows", "store_count": 1, "stores": ["UC567"], "ts": "2026-01-11T12:47:04.163949+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:47:04.586390+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "store", "status": "ok", "message": "Starting UC store discovery", "store_code": "UC567", "store_name": "Sector 56, Gurgaon", "run_env": "dev", "ts": "2026-01-11T12:47:05.060152+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "store_code": "UC567", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (7, '20260111_124156453144_UC567_003', 'dev', 'SC3567', 'UC567', datetime.date(2025, 8, 4), datetime.date(2025, 11, 1), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:47:05.076895+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "login", "status": "ok", "message": "Reusing existing storage state", "store_code": "UC567", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/UC567_storage_state.json", "ts": "2026-01-11T12:47:05.942079+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T12:47:34.124385+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55", "ts": "2026-01-11T12:47:35.266488+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T12:47:35.266665+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T12:47:35.304052+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:47:35.304174+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T12:47:37.350595+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T12:47:37.350712+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-05-27", "to_value": "2025-08-24", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "May 27, 2025 - Aug 24, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:47:39.068547+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T12:47:39.189617+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 388, "ts": "2026-01-11T12:47:39.561173+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:47:39.643221+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:47:39.643325+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:47:39.689002+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55", "ts": "2026-01-11T12:47:40.151723+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T12:47:40.152079+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T12:47:40.204747+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:47:40.204884+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T12:47:41.814737+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T12:47:41.814838+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-08-06", "to_value": "2025-11-03", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Aug 6, 2025 - Nov 3, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:47:43.584283+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 385, "ts": "2026-01-11T12:47:44.059030+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:47:44.146164+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:47:44.146281+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:47:44.190141+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "navigation", "status": "ok", "message": "Home page ready", "store_code": "UC567", "home_url": "https://store.ucleanlaundry.com/dashboard", "selector": "header", "current_url": "https://store.ucleanlaundry.com/dashboard", "source": "session", "ts": "2026-01-11T12:48:25.344064+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "navigation", "status": "ok", "message": "GST report readiness signal detected", "store_code": "UC567", "ts": "2026-01-11T12:48:25.912662+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "navigation", "status": "ok", "message": "GST reports navigation path selected", "store_code": "UC567", "path": "direct URL", "current_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:48:25.912765+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "debug", "message": "Date picker popup selector detection results", "store_code": "UC567", "attempt": 1, "detected_selectors": {".calendar-body.show": 1, ".calendar-body .calendar": 1, "mat-calendar": 2, "[class*='mat-calendar']": 214, ".mat-calendar-content": 2}, "ts": "2026-01-11T12:48:26.075488+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC567", "calendar_label": "start", "target_month": "AUG 2025", "displayed_month": "AUG 2025", "prev_clicks": 5, "next_clicks": 0, "ts": "2026-01-11T12:48:27.578375+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC567", "calendar_label": "start", "selected_date": "2025-08-04", "displayed_month": "AUG 2025", "ts": "2026-01-11T12:48:27.727710+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC567", "calendar_label": "end", "target_month": "NOV 2025", "displayed_month": "NOV 2025", "prev_clicks": 2, "next_clicks": 0, "ts": "2026-01-11T12:48:28.314820+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "debug", "message": "End-date calendar day cell selected", "store_code": "UC567", "aria_selected": "true", "ts": "2026-01-11T12:48:28.488512+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC567", "calendar_label": "end", "selected_date": "2025-11-01", "displayed_month": "NOV 2025", "ts": "2026-01-11T12:48:28.488617+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "warn", "message": "Apply section not found after date selection", "store_code": "UC567", "ts": "2026-01-11T12:48:28.503463+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "debug", "message": "Calendar overlay visibility counts", "store_code": "UC567", "overlay_count": 1, "apply_count": 1, "ts": "2026-01-11T12:48:28.522426+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "warn", "message": "GST report rows not detected after applying date range", "store_code": "UC567", "row_count": 0, "ts": "2026-01-11T12:48:29.202389+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "filters", "status": "ok", "message": "GST report row count after apply", "store_code": "UC567", "row_count": 0, "refreshed": false, "overlay_open": false, "ts": "2026-01-11T12:48:29.210222+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "download", "status": "ok", "message": "Checked Export Report button visibility", "store_code": "UC567", "export_selector": "button.btn.primary.export", "export_count": 1, "export_is_visible": true, "attempt": 1, "ts": "2026-01-11T12:48:29.743041+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "download", "status": "ok", "message": "Clicking Export Report button", "store_code": "UC567", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:48:29.757475+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "download", "status": "ok", "message": "Export Report button click completed", "store_code": "UC567", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "click_outcome": "success", "ts": "2026-01-11T12:48:29.899432+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "download", "status": "ok", "message": "GST report download saved", "store_code": "UC567", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC567_uc_gst_20250804_20251101.xlsx", "suggested_filename": "GST_Report_2025-08-04_to_2025-11-01.xlsx", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:48:29.928570+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "ingest", "status": "warn", "message": "UC GST workbook ingested with warnings", "store_code": "UC567", "warning_count": 1, "staging_rows": 307, "final_rows": 307, "staging_inserted": 0, "staging_updated": 307, "final_inserted": 0, "final_updated": 307, "ts": "2026-01-11T12:48:31.837339+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "selectors", "status": "ok", "message": "Skipped GST report selector cue capture because DOM logging is disabled", "store_code": "UC567", "ts": "2026-01-11T12:48:31.837454+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "store", "status": "ok", "message": "UC store discovery complete", "store_code": "UC567", "final_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:48:31.837870+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "uc_window", "status": "ok", "message": "UC GST window complete", "store_code": "UC567", "from_date": "2025-08-04", "to_date": "2025-11-01", "gst_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC567_uc_gst_20250804_20251101.xlsx", "gst_ingested_rows": 307, "final_status": "success", "ts": "2026-01-11T12:48:31.837940+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "notifications", "status": "ok", "message": "UC orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T12:48:32.169053+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "warning", "ts": "2026-01-11T12:48:32.177179+00:00"}
{"run_id": "20260111_124156453144_UC567_003", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "UC567", "window_index": 3, "window_status": "partial", "ts": "2026-01-11T12:48:41.367358+00:00"}
{"run_id": "20260111_124156453144", "phase": "window_result", "status": "ok", "message": "Window completed", "store_code": "UC567", "pipeline_name": "uc_orders_sync", "window_run_id": "20260111_124156453144_UC567_003", "window_index": 3, "from_date": "2025-08-04", "to_date": "2025-11-01", "window_status": "partial", "status_note": " (from pipeline run summary) (after retry)", "error_message": null, "download_paths": {"gst": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC567_uc_gst_20250804_20251101.xlsx", "filenames": "UC567_uc_gst_20250804_20251101.xlsx"}}, "ingestion_counts": {"gst": {"staging_rows": 307, "final_rows": 307, "staging_inserted": 0, "staging_updated": 307, "final_inserted": 0, "final_updated": 307}}, "ts": "2026-01-11T12:48:41.367544+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "warn", "message": "Stopping further windows after non-success status", "store_code": "UC567", "window_index": 3, "window_status": "partial", "window_attempts": 2, "ts": "2026-01-11T12:48:41.367643+00:00"}
{"run_id": "20260111_124156453144", "phase": "store", "status": "ok", "message": "Computed window plan", "store_code": "UC610", "start_date": "2025-05-11", "end_date": "2026-01-11", "window_days": 90, "overlap_days": 2, "window_count": 3, "ts": "2026-01-11T12:48:41.375801+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "UC610", "from_date": "2025-05-11", "to_date": "2025-08-08", "window_index": 1, "window_attempt": 1, "ts": "2026-01-11T12:48:41.375913+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:48:41.376279+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "run_summary", "status": "ok", "message": "Run summary inserted at start", "overall_status": "running", "ts": "2026-01-11T12:48:41.379799+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "init", "status": "ok", "message": "Starting UC orders sync discovery flow", "run_env": "dev", "from_date": "2025-05-11", "to_date": "2025-08-08", "ts": "2026-01-11T12:48:41.379872+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:48:41.379920+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "init", "status": "ok", "message": "Loaded UC store rows", "store_count": 1, "stores": ["UC610"], "ts": "2026-01-11T12:48:41.383091+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:48:41.799380+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "store", "status": "ok", "message": "Starting UC store discovery", "store_code": "UC610", "store_name": "Sushant Lok 1, Gurgaon", "run_env": "dev", "ts": "2026-01-11T12:48:42.307607+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "store_code": "UC610", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (7, '20260111_124156453144_UC610_001', 'dev', 'SL1610', 'UC610', datetime.date(2025, 5, 11), datetime.date(2025, 8, 8), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:48:42.323854+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "login", "status": "ok", "message": "Reusing existing storage state", "store_code": "UC610", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/UC610_storage_state.json", "ts": "2026-01-11T12:48:42.988227+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 27 May 2025 - 24 Aug 2025 11 Jan 2026 06:17 PM Download", "expected_range_texts": ["May 27, 2025 - Aug 24, 2025", "27 May 2025 - 24 Aug 2025", "May 27 2025 - Aug 24 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:49:11.919088+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Extended report request poll window to ETA", "eta_seconds": 1620, "pending_eta_seconds": null, "new_timeout_ms": 1620000, "range_match_strategy": "date_range_text_pattern", "ts": "2026-01-11T12:49:11.919264+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 27 May 2025 - 24 Aug 2025 11 Jan 2026 06:17 PM Download", "expected_range_texts": ["May 27, 2025 - Aug 24, 2025", "27 May 2025 - 24 Aug 2025", "May 27 2025 - Aug 24 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:49:11.919342+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250527_20250824.xlsx", "suggested_filename": "1170-iYAG90jgi7INFCRYICiRg.xlsx", "expected_range_texts": ["May 27, 2025 - Aug 24, 2025", "27 May 2025 - 24 Aug 2025", "May 27 2025 - Aug 24 2025"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:49:12.830480+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 06 Aug 2025 - 03 Nov 2025 11 Jan 2026 06:17 PM Download", "expected_range_texts": ["Aug 6, 2025 - Nov 3, 2025", "06 Aug 2025 - 03 Nov 2025", "Aug 06, 2025 - Nov 03, 2025", "Aug 06 2025 - Nov 03 2025", "06 Aug 2025 - 3 Nov 2025", "Aug 06, 2025 - Nov 3, 2025", "Aug 06 2025 - Nov 3 2025", "6 Aug 2025 - 03 Nov 2025", "Aug 6, 2025 - Nov 03, 2025", "Aug 6 2025 - Nov 03 2025", "6 Aug 2025 - 3 Nov 2025", "Aug 6 2025 - Nov 3 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:49:16.014319+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 06 Aug 2025 - 03 Nov 2025 11 Jan 2026 06:17 PM Download", "expected_range_texts": ["Aug 6, 2025 - Nov 3, 2025", "06 Aug 2025 - 03 Nov 2025", "Aug 06, 2025 - Nov 03, 2025", "Aug 06 2025 - Nov 03 2025", "06 Aug 2025 - 3 Nov 2025", "Aug 06, 2025 - Nov 3, 2025", "Aug 06 2025 - Nov 3 2025", "6 Aug 2025 - 03 Nov 2025", "Aug 6, 2025 - Nov 03, 2025", "Aug 6 2025 - Nov 03 2025", "6 Aug 2025 - 3 Nov 2025", "Aug 6 2025 - Nov 3 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:49:16.014705+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20250806_20251103.xlsx", "suggested_filename": "1247-jVUizfWTRXo3Eqq9QF7iR.xlsx", "expected_range_texts": ["Aug 6, 2025 - Nov 3, 2025", "06 Aug 2025 - 03 Nov 2025", "Aug 06, 2025 - Nov 03, 2025", "Aug 06 2025 - Nov 03 2025", "06 Aug 2025 - 3 Nov 2025", "Aug 06, 2025 - Nov 3, 2025", "Aug 06 2025 - Nov 3 2025", "6 Aug 2025 - 03 Nov 2025", "Aug 6, 2025 - Nov 03, 2025", "Aug 6 2025 - Nov 03 2025", "6 Aug 2025 - 3 Nov 2025", "Aug 6 2025 - Nov 3 2025"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:49:17.125371+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "ingest", "status": "ok", "message": "TD Orders workbook ingested", "staging_rows": 520, "final_rows": 520, "ts": "2026-01-11T12:49:18.411910+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55", "ts": "2026-01-11T12:49:18.412273+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T12:49:18.565481+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T12:49:18.583159+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:34:660", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:34:660"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:34:660"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T12:49:19.345937+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:34:660", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:34:660", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:34:660"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:34:660"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T12:49:19.346249+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:34:660", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T12:49:19.355457+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:34:660", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T12:49:19.500619+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:49:19.500737+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "ingest", "status": "ok", "message": "TD Orders workbook ingested", "staging_rows": 471, "final_rows": 471, "ts": "2026-01-11T12:49:21.858007+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55", "ts": "2026-01-11T12:49:21.858249+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T12:49:21.967037+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T12:49:21.982824+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:39:690", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:39:690"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:39:690"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T12:49:23.705878+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:39:690", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:39:690", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:16:55"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:39:690"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:39:690"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T12:49:23.706187+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:39:690", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T12:49:23.710271+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:17:39:690", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T12:49:23.774538+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:49:23.774978+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe_preflight", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T12:49:24.199777+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe_download_historical", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T12:49:29.662463+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-08-06", "to_value": "2025-11-03", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Aug 6, 2025 - Nov 3, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:49:31.381547+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-05-27", "to_value": "2025-08-24", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "May 27, 2025 - Aug 24, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:49:31.683464+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 421, "ts": "2026-01-11T12:49:31.947046+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:49:32.029823+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:49:32.029948+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:49:32.071910+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 387, "ts": "2026-01-11T12:49:32.184357+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:49:32.280337+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:49:32.280464+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:49:32.319087+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "navigation", "status": "ok", "message": "Home page ready", "store_code": "UC610", "home_url": "https://store.ucleanlaundry.com/dashboard", "selector": "header", "current_url": "https://store.ucleanlaundry.com/dashboard", "source": "session", "ts": "2026-01-11T12:50:02.514586+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "navigation", "status": "ok", "message": "GST report readiness signal detected", "store_code": "UC610", "ts": "2026-01-11T12:50:03.075349+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "navigation", "status": "ok", "message": "GST reports navigation path selected", "store_code": "UC610", "path": "direct URL", "current_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:50:03.075646+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "filters", "status": "debug", "message": "Date picker popup selector detection results", "store_code": "UC610", "attempt": 1, "detected_selectors": {".calendar-body.show": 1, ".calendar-body .calendar": 1, "mat-calendar": 2, "[class*='mat-calendar']": 214, ".mat-calendar-content": 2}, "ts": "2026-01-11T12:50:03.275206+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC610", "calendar_label": "start", "target_month": "MAY 2025", "displayed_month": "MAY 2025", "prev_clicks": 8, "next_clicks": 0, "ts": "2026-01-11T12:50:05.685693+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC610", "calendar_label": "start", "selected_date": "2025-05-11", "displayed_month": "MAY 2025", "ts": "2026-01-11T12:50:05.840294+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC610", "calendar_label": "end", "target_month": "AUG 2025", "displayed_month": "AUG 2025", "prev_clicks": 5, "next_clicks": 0, "ts": "2026-01-11T12:50:07.332587+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "filters", "status": "debug", "message": "End-date calendar day cell selected", "store_code": "UC610", "aria_selected": "true", "ts": "2026-01-11T12:50:07.503323+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC610", "calendar_label": "end", "selected_date": "2025-08-08", "displayed_month": "AUG 2025", "ts": "2026-01-11T12:50:07.503425+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "filters", "status": "warn", "message": "Apply section not found after date selection", "store_code": "UC610", "ts": "2026-01-11T12:50:07.515779+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "filters", "status": "debug", "message": "Calendar overlay visibility counts", "store_code": "UC610", "overlay_count": 1, "apply_count": 1, "ts": "2026-01-11T12:50:07.533201+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "filters", "status": "warn", "message": "GST report rows not detected after applying date range", "store_code": "UC610", "row_count": 0, "ts": "2026-01-11T12:50:08.213877+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "filters", "status": "ok", "message": "GST report row count after apply", "store_code": "UC610", "row_count": 0, "refreshed": false, "overlay_open": false, "ts": "2026-01-11T12:50:08.220634+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "download", "status": "ok", "message": "Checked Export Report button visibility", "store_code": "UC610", "export_selector": "button.btn.primary.export", "export_count": 1, "export_is_visible": true, "attempt": 1, "ts": "2026-01-11T12:50:08.746062+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "download", "status": "ok", "message": "Clicking Export Report button", "store_code": "UC610", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:50:08.758814+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "download", "status": "ok", "message": "Export Report button click completed", "store_code": "UC610", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "click_outcome": "success", "ts": "2026-01-11T12:50:08.853764+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "download", "status": "ok", "message": "GST report download saved", "store_code": "UC610", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC610_uc_gst_20250511_20250808.xlsx", "suggested_filename": "GST_Report_2025-05-11_to_2025-08-08.xlsx", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:50:08.874053+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "ingest", "status": "ok", "message": "UC GST workbook ingested", "store_code": "UC610", "staging_rows": 188, "final_rows": 188, "staging_inserted": 188, "staging_updated": 0, "final_inserted": 188, "final_updated": 0, "ts": "2026-01-11T12:50:10.026431+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "selectors", "status": "ok", "message": "Skipped GST report selector cue capture because DOM logging is disabled", "store_code": "UC610", "ts": "2026-01-11T12:50:10.026528+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "store", "status": "ok", "message": "UC store discovery complete", "store_code": "UC610", "final_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:50:10.026809+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "uc_window", "status": "ok", "message": "UC GST window complete", "store_code": "UC610", "from_date": "2025-05-11", "to_date": "2025-08-08", "gst_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC610_uc_gst_20250511_20250808.xlsx", "gst_ingested_rows": 188, "final_status": "success", "ts": "2026-01-11T12:50:10.026871+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "notifications", "status": "ok", "message": "UC orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T12:50:10.369431+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "ok", "ts": "2026-01-11T12:50:10.378749+00:00"}
{"run_id": "20260111_124156453144_UC610_001", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "UC610", "window_index": 1, "window_status": "success", "ts": "2026-01-11T12:50:19.359321+00:00"}
{"run_id": "20260111_124156453144", "phase": "window_result", "status": "ok", "message": "Window completed", "store_code": "UC610", "pipeline_name": "uc_orders_sync", "window_run_id": "20260111_124156453144_UC610_001", "window_index": 1, "from_date": "2025-05-11", "to_date": "2025-08-08", "window_status": "success", "status_note": " (from pipeline run summary)", "error_message": null, "download_paths": {"gst": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC610_uc_gst_20250511_20250808.xlsx", "filenames": "UC610_uc_gst_20250511_20250808.xlsx"}}, "ingestion_counts": {"gst": {"staging_rows": 188, "final_rows": 188, "staging_inserted": 188, "staging_updated": 0, "final_inserted": 188, "final_updated": 0}}, "ts": "2026-01-11T12:50:19.359502+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "UC610", "from_date": "2025-08-07", "to_date": "2025-11-04", "window_index": 2, "window_attempt": 1, "ts": "2026-01-11T12:50:19.359589+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:50:19.359959+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "run_summary", "status": "ok", "message": "Run summary inserted at start", "overall_status": "running", "ts": "2026-01-11T12:50:19.403435+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "init", "status": "ok", "message": "Starting UC orders sync discovery flow", "run_env": "dev", "from_date": "2025-08-07", "to_date": "2025-11-04", "ts": "2026-01-11T12:50:19.403561+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:50:19.403625+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "init", "status": "ok", "message": "Loaded UC store rows", "store_count": 1, "stores": ["UC610"], "ts": "2026-01-11T12:50:19.405624+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:50:20.017471+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "store", "status": "ok", "message": "Starting UC store discovery", "store_code": "UC610", "store_name": "Sushant Lok 1, Gurgaon", "run_env": "dev", "ts": "2026-01-11T12:50:20.585648+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "store_code": "UC610", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (7, '20260111_124156453144_UC610_002', 'dev', 'SL1610', 'UC610', datetime.date(2025, 8, 7), datetime.date(2025, 11, 4), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:50:20.608540+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "login", "status": "ok", "message": "Reusing existing storage state", "store_code": "UC610", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/UC610_storage_state.json", "ts": "2026-01-11T12:50:21.243553+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 06 Aug 2025 - 03 Nov 2025 11 Jan 2026 06:19 PM Download", "expected_range_texts": ["Aug 6, 2025 - Nov 3, 2025", "06 Aug 2025 - 03 Nov 2025", "Aug 06, 2025 - Nov 03, 2025", "Aug 06 2025 - Nov 03 2025", "06 Aug 2025 - 3 Nov 2025", "Aug 06, 2025 - Nov 3, 2025", "Aug 06 2025 - Nov 3 2025", "6 Aug 2025 - 03 Nov 2025", "Aug 6, 2025 - Nov 03, 2025", "Aug 6 2025 - Nov 03 2025", "6 Aug 2025 - 3 Nov 2025", "Aug 6 2025 - Nov 3 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:51:04.082910+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 06 Aug 2025 - 03 Nov 2025 11 Jan 2026 06:19 PM Download", "expected_range_texts": ["Aug 6, 2025 - Nov 3, 2025", "06 Aug 2025 - 03 Nov 2025", "Aug 06, 2025 - Nov 03, 2025", "Aug 06 2025 - Nov 03 2025", "06 Aug 2025 - 3 Nov 2025", "Aug 06, 2025 - Nov 3, 2025", "Aug 06 2025 - Nov 3 2025", "6 Aug 2025 - 03 Nov 2025", "Aug 6, 2025 - Nov 03, 2025", "Aug 6 2025 - Nov 03 2025", "6 Aug 2025 - 3 Nov 2025", "Aug 6 2025 - Nov 3 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:51:04.083098+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 27 May 2025 - 24 Aug 2025 11 Jan 2026 06:19 PM Download", "expected_range_texts": ["May 27, 2025 - Aug 24, 2025", "27 May 2025 - 24 Aug 2025", "May 27 2025 - Aug 24 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:51:04.715967+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Extended report request poll window to ETA", "eta_seconds": 1620, "pending_eta_seconds": null, "new_timeout_ms": 1620000, "range_match_strategy": "date_range_text_pattern", "ts": "2026-01-11T12:51:04.716103+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 27 May 2025 - 24 Aug 2025 11 Jan 2026 06:19 PM Download", "expected_range_texts": ["May 27, 2025 - Aug 24, 2025", "27 May 2025 - 24 Aug 2025", "May 27 2025 - Aug 24 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:51:04.716165+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20250806_20251103.xlsx", "suggested_filename": "1247-4IEDEoe-YhyhLT0hJslWQ.xlsx", "expected_range_texts": ["Aug 6, 2025 - Nov 3, 2025", "06 Aug 2025 - 03 Nov 2025", "Aug 06, 2025 - Nov 03, 2025", "Aug 06 2025 - Nov 03 2025", "06 Aug 2025 - 3 Nov 2025", "Aug 06, 2025 - Nov 3, 2025", "Aug 06 2025 - Nov 3 2025", "6 Aug 2025 - 03 Nov 2025", "Aug 6, 2025 - Nov 03, 2025", "Aug 6 2025 - Nov 03 2025", "6 Aug 2025 - 3 Nov 2025", "Aug 6 2025 - Nov 3 2025"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:51:04.963955+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20250806_20251103.xlsx", "ts": "2026-01-11T12:51:04.964189+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250527_20250824.xlsx", "suggested_filename": "1170-ErkE3AFUWU8kpxt58uej5.xlsx", "expected_range_texts": ["May 27, 2025 - Aug 24, 2025", "27 May 2025 - 24 Aug 2025", "May 27 2025 - Aug 24 2025"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:51:05.631938+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250527_20250824.xlsx", "ts": "2026-01-11T12:51:05.632049+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "sales_ingest", "status": "ok", "message": "TD Sales workbook ingested", "staging_rows": 420, "final_rows": 420, "ts": "2026-01-11T12:51:09.220813+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20250806_20251103.xlsx", "ts": "2026-01-11T12:51:09.221120+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T12:51:09.221202+00:00"}
{"run_id": "20260111_124156453144_A817_002", "store_code": "A817", "phase": "window_summary", "status": "ok", "message": "TD window summary", "from_date": "2025-08-06", "to_date": "2025-11-03", "orders_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20250806_20251103.xlsx", "sales_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20250806_20251103.xlsx", "orders_ingested_rows": 471, "sales_ingested_rows": 420, "final_status": "success", "ts": "2026-01-11T12:51:09.221301+00:00"}
{"run_id": "20260111_124156453144_A817_002", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T12:51:09.544329+00:00"}
{"run_id": "20260111_124156453144_A817_002", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "ok", "ts": "2026-01-11T12:51:09.579389+00:00"}
{"run_id": "20260111_124156453144_A817_002", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A817", "window_index": 2, "window_status": "success", "ts": "2026-01-11T12:51:18.614969+00:00"}
{"run_id": "20260111_124156453144", "phase": "window_result", "status": "ok", "message": "Window completed", "store_code": "A817", "pipeline_name": "td_orders_sync", "window_run_id": "20260111_124156453144_A817_002", "window_index": 2, "from_date": "2025-08-06", "to_date": "2025-11-03", "window_status": "success", "status_note": " (from pipeline run summary)", "error_message": null, "download_paths": {"orders": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20250806_20251103.xlsx", "filenames": ["A817_td_orders_20250806_20251103.xlsx"]}, "sales": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20250806_20251103.xlsx", "filenames": ["A817_td_sales_20250806_20251103.xlsx"]}}, "ingestion_counts": {"orders": {"rows_downloaded": 471, "rows_ingested": 471, "staging_rows": 471, "final_rows": 471}, "sales": {"rows_downloaded": 420, "rows_ingested": 420, "staging_rows": 420, "final_rows": 420}}, "ts": "2026-01-11T12:51:18.615138+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A817", "from_date": "2025-11-02", "to_date": "2026-01-11", "window_index": 3, "window_attempt": 1, "ts": "2026-01-11T12:51:18.615328+00:00"}
{"run_id": "20260111_124156453144_A817_003", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:51:18.615787+00:00"}
{"run_id": "20260111_124156453144_A817_003", "phase": "run_summary", "status": "ok", "message": "Run summary inserted at start", "overall_status": "running", "ts": "2026-01-11T12:51:18.633591+00:00"}
{"run_id": "20260111_124156453144_A817_003", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-11-02", "to_date": "2026-01-11", "ts": "2026-01-11T12:51:18.633747+00:00"}
{"run_id": "20260111_124156453144_A817_003", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:51:18.633814+00:00"}
{"run_id": "20260111_124156453144_A817_003", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A817"], "skipped_stores": null, "ts": "2026-01-11T12:51:18.651495+00:00"}
{"run_id": "20260111_124156453144_A817_003", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A817"], "ts": "2026-01-11T12:51:18.651597+00:00"}
{"run_id": "20260111_124156453144_A817_003", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:51:19.214256+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "sales_ingest", "status": "ok", "message": "TD Sales workbook ingested", "staging_rows": 564, "final_rows": 564, "ts": "2026-01-11T12:51:19.221222+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250527_20250824.xlsx", "ts": "2026-01-11T12:51:19.221606+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T12:51:19.221712+00:00"}
{"run_id": "20260111_124156453144_A668_002", "store_code": "A668", "phase": "window_summary", "status": "ok", "message": "TD window summary", "from_date": "2025-05-27", "to_date": "2025-08-24", "orders_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250527_20250824.xlsx", "sales_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250527_20250824.xlsx", "orders_ingested_rows": 520, "sales_ingested_rows": 564, "final_status": "success", "ts": "2026-01-11T12:51:19.221931+00:00"}
{"run_id": "20260111_124156453144_A668_002", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T12:51:19.541060+00:00"}
{"run_id": "20260111_124156453144_A668_002", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "ok", "ts": "2026-01-11T12:51:19.648405+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-11-02", "to_date": "2026-01-11", "ts": "2026-01-11T12:51:28.482602+00:00"}
{"run_id": "20260111_124156453144_A668_002", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A668", "window_index": 2, "window_status": "success", "ts": "2026-01-11T12:51:28.492361+00:00"}
{"run_id": "20260111_124156453144", "phase": "window_result", "status": "ok", "message": "Window completed", "store_code": "A668", "pipeline_name": "td_orders_sync", "window_run_id": "20260111_124156453144_A668_002", "window_index": 2, "from_date": "2025-05-27", "to_date": "2025-08-24", "window_status": "success", "status_note": " (from pipeline run summary)", "error_message": null, "download_paths": {"orders": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250527_20250824.xlsx", "filenames": ["A668_td_orders_20250527_20250824.xlsx"]}, "sales": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250527_20250824.xlsx", "filenames": ["A668_td_sales_20250527_20250824.xlsx"]}}, "ingestion_counts": {"orders": {"rows_downloaded": 520, "rows_ingested": 520, "staging_rows": 520, "final_rows": 520}, "sales": {"rows_downloaded": 564, "rows_ingested": 564, "staging_rows": 564, "final_rows": 564}}, "ts": "2026-01-11T12:51:28.492542+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A668", "from_date": "2025-08-23", "to_date": "2025-11-20", "window_index": 3, "window_attempt": 1, "ts": "2026-01-11T12:51:28.492793+00:00"}
{"run_id": "20260111_124156453144_A668_003", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:51:28.493240+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (6, '20260111_124156453144_A817_003', 'dev', 'KN3817', 'A817', datetime.date(2025, 11, 2), datetime.date(2026, 1, 11), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:51:28.494875+00:00"}
{"run_id": "20260111_124156453144_A668_003", "phase": "run_summary", "status": "ok", "message": "Run summary inserted at start", "overall_status": "running", "ts": "2026-01-11T12:51:28.540862+00:00"}
{"run_id": "20260111_124156453144_A668_003", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-08-23", "to_date": "2025-11-20", "ts": "2026-01-11T12:51:28.540982+00:00"}
{"run_id": "20260111_124156453144_A668_003", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:51:28.541053+00:00"}
{"run_id": "20260111_124156453144_A668_003", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A668"], "skipped_stores": null, "ts": "2026-01-11T12:51:28.544280+00:00"}
{"run_id": "20260111_124156453144_A668_003", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A668"], "ts": "2026-01-11T12:51:28.544387+00:00"}
{"run_id": "20260111_124156453144_A668_003", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:51:29.110298+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "ts": "2026-01-11T12:51:29.233865+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-08-23", "to_date": "2025-11-20", "ts": "2026-01-11T12:51:29.545856+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (6, '20260111_124156453144_A668_003', 'dev', 'UN3668', 'A668', datetime.date(2025, 8, 23), datetime.date(2025, 11, 20), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:51:29.561880+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "ts": "2026-01-11T12:51:30.496747+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T12:51:35.050450+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T12:51:35.050639+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T12:51:36.133675+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T12:51:36.133842+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T12:51:36.134033+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T12:51:36.267534+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T12:51:36.267737+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T12:51:37.370416+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T12:51:37.370597+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T12:51:37.370737+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T12:51:39.328200+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T12:51:39.328301+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T12:51:39.333313+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T12:51:39.333520+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "verification_seen": false, "ts": "2026-01-11T12:51:39.343972+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "session", "status": "ok", "message": "Persisted storage state for A817 after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "session_reused": true, "refreshed": true, "ts": "2026-01-11T12:51:39.344160+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "verification_seen": false, "ts": "2026-01-11T12:51:39.354086+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T12:51:39.411410+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T12:51:39.415922+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "navigation", "status": "ok", "message": "Home page ready", "store_code": "UC610", "home_url": "https://store.ucleanlaundry.com/dashboard", "selector": "header", "current_url": "https://store.ucleanlaundry.com/dashboard", "source": "session", "ts": "2026-01-11T12:51:44.338607+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "navigation", "status": "ok", "message": "GST report readiness signal detected", "store_code": "UC610", "ts": "2026-01-11T12:51:44.963676+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "navigation", "status": "ok", "message": "GST reports navigation path selected", "store_code": "UC610", "path": "direct URL", "current_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:51:44.963819+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "debug", "message": "Date picker popup selector detection results", "store_code": "UC610", "attempt": 1, "detected_selectors": {".calendar-body.show": 1, ".calendar-body .calendar": 1, "mat-calendar": 2, "[class*='mat-calendar']": 214, ".mat-calendar-content": 2}, "ts": "2026-01-11T12:51:45.139750+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC610", "calendar_label": "start", "target_month": "AUG 2025", "displayed_month": "AUG 2025", "prev_clicks": 5, "next_clicks": 0, "ts": "2026-01-11T12:51:46.677652+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC610", "calendar_label": "start", "selected_date": "2025-08-07", "displayed_month": "AUG 2025", "ts": "2026-01-11T12:51:46.841437+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC610", "calendar_label": "end", "target_month": "NOV 2025", "displayed_month": "NOV 2025", "prev_clicks": 2, "next_clicks": 0, "ts": "2026-01-11T12:51:47.448726+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "debug", "message": "End-date calendar day cell selected", "store_code": "UC610", "aria_selected": "true", "ts": "2026-01-11T12:51:47.633241+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC610", "calendar_label": "end", "selected_date": "2025-11-04", "displayed_month": "NOV 2025", "ts": "2026-01-11T12:51:47.633345+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "warn", "message": "Apply section not found after date selection", "store_code": "UC610", "ts": "2026-01-11T12:51:47.647152+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "debug", "message": "Calendar overlay visibility counts", "store_code": "UC610", "overlay_count": 1, "apply_count": 1, "ts": "2026-01-11T12:51:47.662886+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "warn", "message": "GST report rows not detected after applying date range", "store_code": "UC610", "row_count": 0, "ts": "2026-01-11T12:51:48.343626+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "ok", "message": "GST report row count after apply", "store_code": "UC610", "row_count": 0, "refreshed": false, "overlay_open": false, "ts": "2026-01-11T12:51:48.351029+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "download", "status": "ok", "message": "Checked Export Report button visibility", "store_code": "UC610", "export_selector": "button.btn.primary.export", "export_count": 1, "export_is_visible": true, "attempt": 1, "ts": "2026-01-11T12:51:48.877519+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "download", "status": "ok", "message": "Clicking Export Report button", "store_code": "UC610", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:51:48.890719+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "download", "status": "ok", "message": "Export Report button click completed", "store_code": "UC610", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "click_outcome": "success", "ts": "2026-01-11T12:51:49.005797+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "download", "status": "ok", "message": "GST report download saved", "store_code": "UC610", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC610_uc_gst_20250807_20251104.xlsx", "suggested_filename": "GST_Report_2025-08-07_to_2025-11-04.xlsx", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:51:49.032127+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "ingest", "status": "warn", "message": "UC GST workbook ingested with warnings", "store_code": "UC610", "warning_count": 1, "staging_rows": 248, "final_rows": 248, "staging_inserted": 246, "staging_updated": 2, "final_inserted": 246, "final_updated": 2, "ts": "2026-01-11T12:51:50.669360+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "selectors", "status": "ok", "message": "Skipped GST report selector cue capture because DOM logging is disabled", "store_code": "UC610", "ts": "2026-01-11T12:51:50.669469+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "store", "status": "ok", "message": "UC store discovery complete", "store_code": "UC610", "final_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:51:50.669845+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "uc_window", "status": "ok", "message": "UC GST window complete", "store_code": "UC610", "from_date": "2025-08-07", "to_date": "2025-11-04", "gst_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC610_uc_gst_20250807_20251104.xlsx", "gst_ingested_rows": 248, "final_status": "success", "ts": "2026-01-11T12:51:50.669914+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "notifications", "status": "ok", "message": "UC orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T12:51:50.919964+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "warning", "ts": "2026-01-11T12:51:50.927391+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "UC610", "window_index": 2, "window_status": "partial", "ts": "2026-01-11T12:51:59.488132+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "warn", "message": "Retrying window after non-success status", "store_code": "UC610", "window_index": 2, "window_status": "partial", "window_attempt": 1, "ts": "2026-01-11T12:51:59.488560+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "UC610", "from_date": "2025-08-07", "to_date": "2025-11-04", "window_index": 2, "window_attempt": 2, "ts": "2026-01-11T12:51:59.488648+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:51:59.489020+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "run_summary", "status": "ok", "message": "Run summary updated at start", "overall_status": "running", "ts": "2026-01-11T12:51:59.533895+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "init", "status": "ok", "message": "Starting UC orders sync discovery flow", "run_env": "dev", "from_date": "2025-08-07", "to_date": "2025-11-04", "ts": "2026-01-11T12:51:59.534142+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:51:59.534215+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "init", "status": "ok", "message": "Loaded UC store rows", "store_count": 1, "stores": ["UC610"], "ts": "2026-01-11T12:51:59.536147+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:51:59.980984+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "store", "status": "ok", "message": "Starting UC store discovery", "store_code": "UC610", "store_name": "Sushant Lok 1, Gurgaon", "run_env": "dev", "ts": "2026-01-11T12:52:00.477287+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "store_code": "UC610", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (7, '20260111_124156453144_UC610_002', 'dev', 'SL1610', 'UC610', datetime.date(2025, 8, 7), datetime.date(2025, 11, 4), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:52:00.491639+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "login", "status": "ok", "message": "Reusing existing storage state", "store_code": "UC610", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/UC610_storage_state.json", "ts": "2026-01-11T12:52:01.365546+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T12:52:19.497741+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T12:52:19.505667+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39", "ts": "2026-01-11T12:52:20.499849+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T12:52:20.500012+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39", "ts": "2026-01-11T12:52:20.590275+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T12:52:20.591262+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T12:52:20.626382+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:52:20.626661+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T12:52:20.630737+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:52:20.630844+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T12:52:22.385911+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T12:52:22.386245+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T12:52:22.901709+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T12:52:22.901863+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-08-23", "to_value": "2025-11-20", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Aug 23, 2025 - Nov 20, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:52:24.446013+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-11-02", "to_value": "2026-01-11", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Nov 2, 2025 - Jan 11, 2026", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:52:24.999913+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 451, "ts": "2026-01-11T12:52:25.031881+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:52:25.123328+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:52:25.123551+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:52:25.177419+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 394, "ts": "2026-01-11T12:52:25.494043+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:52:25.590227+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:52:25.590318+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:52:25.642440+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "navigation", "status": "ok", "message": "Home page ready", "store_code": "UC610", "home_url": "https://store.ucleanlaundry.com/dashboard", "selector": "header", "current_url": "https://store.ucleanlaundry.com/dashboard", "source": "session", "ts": "2026-01-11T12:53:20.066409+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "navigation", "status": "ok", "message": "GST report readiness signal detected", "store_code": "UC610", "ts": "2026-01-11T12:53:20.674100+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "navigation", "status": "ok", "message": "GST reports navigation path selected", "store_code": "UC610", "path": "direct URL", "current_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:53:20.674261+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "debug", "message": "Date picker popup selector detection results", "store_code": "UC610", "attempt": 1, "detected_selectors": {".calendar-body.show": 1, ".calendar-body .calendar": 1, "mat-calendar": 2, "[class*='mat-calendar']": 214, ".mat-calendar-content": 2}, "ts": "2026-01-11T12:53:20.845849+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC610", "calendar_label": "start", "target_month": "AUG 2025", "displayed_month": "AUG 2025", "prev_clicks": 5, "next_clicks": 0, "ts": "2026-01-11T12:53:22.362236+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC610", "calendar_label": "start", "selected_date": "2025-08-07", "displayed_month": "AUG 2025", "ts": "2026-01-11T12:53:22.499007+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC610", "calendar_label": "end", "target_month": "NOV 2025", "displayed_month": "NOV 2025", "prev_clicks": 2, "next_clicks": 0, "ts": "2026-01-11T12:53:23.086391+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "debug", "message": "End-date calendar day cell selected", "store_code": "UC610", "aria_selected": "true", "ts": "2026-01-11T12:53:23.260147+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC610", "calendar_label": "end", "selected_date": "2025-11-04", "displayed_month": "NOV 2025", "ts": "2026-01-11T12:53:23.260255+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "warn", "message": "Apply section not found after date selection", "store_code": "UC610", "ts": "2026-01-11T12:53:23.272752+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "debug", "message": "Calendar overlay visibility counts", "store_code": "UC610", "overlay_count": 1, "apply_count": 1, "ts": "2026-01-11T12:53:23.288251+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "warn", "message": "GST report rows not detected after applying date range", "store_code": "UC610", "row_count": 0, "ts": "2026-01-11T12:53:23.956892+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "filters", "status": "ok", "message": "GST report row count after apply", "store_code": "UC610", "row_count": 0, "refreshed": false, "overlay_open": false, "ts": "2026-01-11T12:53:23.964558+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "download", "status": "ok", "message": "Checked Export Report button visibility", "store_code": "UC610", "export_selector": "button.btn.primary.export", "export_count": 1, "export_is_visible": true, "attempt": 1, "ts": "2026-01-11T12:53:24.493970+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "download", "status": "ok", "message": "Clicking Export Report button", "store_code": "UC610", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:53:24.506907+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "download", "status": "ok", "message": "Export Report button click completed", "store_code": "UC610", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "click_outcome": "success", "ts": "2026-01-11T12:53:24.609079+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "download", "status": "ok", "message": "GST report download saved", "store_code": "UC610", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC610_uc_gst_20250807_20251104.xlsx", "suggested_filename": "GST_Report_2025-08-07_to_2025-11-04.xlsx", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T12:53:24.633486+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "ingest", "status": "warn", "message": "UC GST workbook ingested with warnings", "store_code": "UC610", "warning_count": 1, "staging_rows": 248, "final_rows": 248, "staging_inserted": 0, "staging_updated": 248, "final_inserted": 0, "final_updated": 248, "ts": "2026-01-11T12:53:26.223852+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "selectors", "status": "ok", "message": "Skipped GST report selector cue capture because DOM logging is disabled", "store_code": "UC610", "ts": "2026-01-11T12:53:26.223961+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "store", "status": "ok", "message": "UC store discovery complete", "store_code": "UC610", "final_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T12:53:26.224350+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "uc_window", "status": "ok", "message": "UC GST window complete", "store_code": "UC610", "from_date": "2025-08-07", "to_date": "2025-11-04", "gst_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC610_uc_gst_20250807_20251104.xlsx", "gst_ingested_rows": 248, "final_status": "success", "ts": "2026-01-11T12:53:26.224425+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "notifications", "status": "ok", "message": "UC orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T12:53:26.889389+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "warning", "ts": "2026-01-11T12:53:26.938172+00:00"}
{"run_id": "20260111_124156453144_UC610_002", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "UC610", "window_index": 2, "window_status": "partial", "ts": "2026-01-11T12:53:36.298844+00:00"}
{"run_id": "20260111_124156453144", "phase": "window_result", "status": "ok", "message": "Window completed", "store_code": "UC610", "pipeline_name": "uc_orders_sync", "window_run_id": "20260111_124156453144_UC610_002", "window_index": 2, "from_date": "2025-08-07", "to_date": "2025-11-04", "window_status": "partial", "status_note": " (from pipeline run summary) (after retry)", "error_message": null, "download_paths": {"gst": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC610_uc_gst_20250807_20251104.xlsx", "filenames": "UC610_uc_gst_20250807_20251104.xlsx"}}, "ingestion_counts": {"gst": {"staging_rows": 248, "final_rows": 248, "staging_inserted": 0, "staging_updated": 248, "final_inserted": 0, "final_updated": 248}}, "ts": "2026-01-11T12:53:36.299047+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "warn", "message": "Stopping further windows after non-success status", "store_code": "UC610", "window_index": 2, "window_status": "partial", "window_attempts": 2, "ts": "2026-01-11T12:53:36.299130+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 23 Aug 2025 - 20 Nov 2025 11 Jan 2026 06:22 PM Download", "expected_range_texts": ["Aug 23, 2025 - Nov 20, 2025", "23 Aug 2025 - 20 Nov 2025", "Aug 23 2025 - Nov 20 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:53:57.198112+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 23 Aug 2025 - 20 Nov 2025 11 Jan 2026 06:22 PM Download", "expected_range_texts": ["Aug 23, 2025 - Nov 20, 2025", "23 Aug 2025 - 20 Nov 2025", "Aug 23 2025 - Nov 20 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:53:57.198293+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250823_20251120.xlsx", "suggested_filename": "1170-VbVr2C6-pS7havWYhGrlK.xlsx", "expected_range_texts": ["Aug 23, 2025 - Nov 20, 2025", "23 Aug 2025 - 20 Nov 2025", "Aug 23 2025 - Nov 20 2025"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:53:58.066338+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "ingest", "status": "warn", "message": "TD Orders workbook ingested with warnings", "warning_count": 1, "warning_samples": ["Invalid phone number dropped: A668--7051"], "warnings_truncated": false, "staging_rows": 625, "final_rows": 625, "ts": "2026-01-11T12:54:03.115362+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39", "ts": "2026-01-11T12:54:03.115669+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T12:54:03.255614+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T12:54:03.268484+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:057", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:057"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:057"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T12:54:04.504045+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:057", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:057", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:057"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:057"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T12:54:04.504273+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:057", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T12:54:04.509892+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:057", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T12:54:04.602062+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:54:04.602194+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 02 Nov 2025 - 11 Jan 2026 11 Jan 2026 06:22 PM Download", "expected_range_texts": ["Nov 2, 2025 - Jan 11, 2026", "02 Nov 2025 - 11 Jan 2026", "Nov 02, 2025 - Jan 11, 2026", "Nov 02 2025 - Jan 11 2026", "2 Nov 2025 - 11 Jan 2026", "Nov 2 2025 - Jan 11 2026"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:54:06.569269+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 02 Nov 2025 - 11 Jan 2026 11 Jan 2026 06:22 PM Download", "expected_range_texts": ["Nov 2, 2025 - Jan 11, 2026", "02 Nov 2025 - 11 Jan 2026", "Nov 02, 2025 - Jan 11, 2026", "Nov 02 2025 - Jan 11 2026", "2 Nov 2025 - 11 Jan 2026", "Nov 2 2025 - Jan 11 2026"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:54:06.569410+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20251102_20260111.xlsx", "suggested_filename": "1247-5UdzBkJqRwLCouiWVcZei.xlsx", "expected_range_texts": ["Nov 2, 2025 - Jan 11, 2026", "02 Nov 2025 - 11 Jan 2026", "Nov 02, 2025 - Jan 11, 2026", "Nov 02 2025 - Jan 11 2026", "2 Nov 2025 - 11 Jan 2026", "Nov 2 2025 - Jan 11 2026"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:54:07.517605+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-08-23", "to_value": "2025-11-20", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Aug 23, 2025 - Nov 20, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:54:11.667458+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 379, "ts": "2026-01-11T12:54:12.147053+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:54:12.247291+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:54:12.247382+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:54:12.310868+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "ingest", "status": "warn", "message": "TD Orders workbook ingested with warnings", "warning_count": 2, "warning_samples": ["Invalid phone number dropped: A817--7461", "Invalid phone number dropped: 18409065"], "warnings_truncated": false, "staging_rows": 577, "final_rows": 577, "ts": "2026-01-11T12:54:13.392769+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39", "ts": "2026-01-11T12:54:13.393027+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T12:54:13.519649+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T12:54:13.534315+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:050", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:050"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:050"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T12:54:15.393568+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:050", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:050", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2018:21:39"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:050"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:050"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T12:54:15.393845+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:050", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T12:54:15.398831+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:22:20:050", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T12:54:15.440620+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:54:15.440791+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-11-02", "to_value": "2026-01-11", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Nov 2, 2025 - Jan 11, 2026", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:54:22.518421+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 375, "ts": "2026-01-11T12:54:22.981639+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:54:23.062359+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:54:23.062470+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:54:23.106487+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 23 Aug 2025 - 20 Nov 2025 11 Jan 2026 06:24 PM Download", "expected_range_texts": ["Aug 23, 2025 - Nov 20, 2025", "23 Aug 2025 - 20 Nov 2025", "Aug 23 2025 - Nov 20 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:55:44.656546+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 23 Aug 2025 - 20 Nov 2025 11 Jan 2026 06:24 PM Download", "expected_range_texts": ["Aug 23, 2025 - Nov 20, 2025", "23 Aug 2025 - 20 Nov 2025", "Aug 23 2025 - Nov 20 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:55:44.656707+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250823_20251120.xlsx", "suggested_filename": "1170-y02xZHi8JLtz5Tu-l0eVC.xlsx", "expected_range_texts": ["Aug 23, 2025 - Nov 20, 2025", "23 Aug 2025 - 20 Nov 2025", "Aug 23 2025 - Nov 20 2025"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:55:45.454448+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250823_20251120.xlsx", "ts": "2026-01-11T12:55:45.454594+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "sales_ingest", "status": "ok", "message": "TD Sales workbook ingested", "staging_rows": 649, "final_rows": 649, "ts": "2026-01-11T12:55:48.592901+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250823_20251120.xlsx", "ts": "2026-01-11T12:55:48.593223+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T12:55:48.593341+00:00"}
{"run_id": "20260111_124156453144_A668_003", "store_code": "A668", "phase": "window_summary", "status": "ok", "message": "TD window summary", "from_date": "2025-08-23", "to_date": "2025-11-20", "orders_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250823_20251120.xlsx", "sales_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250823_20251120.xlsx", "orders_ingested_rows": 625, "sales_ingested_rows": 649, "final_status": "success", "ts": "2026-01-11T12:55:48.593438+00:00"}
{"run_id": "20260111_124156453144_A668_003", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T12:55:49.114497+00:00"}
{"run_id": "20260111_124156453144_A668_003", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "ok", "ts": "2026-01-11T12:55:49.144938+00:00"}
{"run_id": "20260111_124156453144_A668_003", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A668", "window_index": 3, "window_status": "success", "ts": "2026-01-11T12:55:58.064457+00:00"}
{"run_id": "20260111_124156453144", "phase": "window_result", "status": "ok", "message": "Window completed", "store_code": "A668", "pipeline_name": "td_orders_sync", "window_run_id": "20260111_124156453144_A668_003", "window_index": 3, "from_date": "2025-08-23", "to_date": "2025-11-20", "window_status": "success", "status_note": " (from pipeline run summary)", "error_message": null, "download_paths": {"orders": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250823_20251120.xlsx", "filenames": ["A668_td_orders_20250823_20251120.xlsx"]}, "sales": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250823_20251120.xlsx", "filenames": ["A668_td_sales_20250823_20251120.xlsx"]}}, "ingestion_counts": {"orders": {"rows_downloaded": 625, "rows_ingested": 625, "staging_rows": 625, "final_rows": 625}, "sales": {"rows_downloaded": 649, "rows_ingested": 649, "staging_rows": 649, "final_rows": 649}}, "ts": "2026-01-11T12:55:58.064656+00:00"}
{"run_id": "20260111_124156453144", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A668", "from_date": "2025-11-19", "to_date": "2026-01-11", "window_index": 4, "window_attempt": 1, "ts": "2026-01-11T12:55:58.064784+00:00"}
{"run_id": "20260111_124156453144_A668_004", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T12:55:58.065346+00:00"}
{"run_id": "20260111_124156453144_A668_004", "phase": "run_summary", "status": "ok", "message": "Run summary inserted at start", "overall_status": "running", "ts": "2026-01-11T12:55:58.074129+00:00"}
{"run_id": "20260111_124156453144_A668_004", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-11-19", "to_date": "2026-01-11", "ts": "2026-01-11T12:55:58.074219+00:00"}
{"run_id": "20260111_124156453144_A668_004", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T12:55:58.074273+00:00"}
{"run_id": "20260111_124156453144_A668_004", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A668"], "skipped_stores": null, "ts": "2026-01-11T12:55:58.077542+00:00"}
{"run_id": "20260111_124156453144_A668_004", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A668"], "ts": "2026-01-11T12:55:58.077625+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 02 Nov 2025 - 11 Jan 2026 11 Jan 2026 06:24 PM Download", "expected_range_texts": ["Nov 2, 2025 - Jan 11, 2026", "02 Nov 2025 - 11 Jan 2026", "Nov 02, 2025 - Jan 11, 2026", "Nov 02 2025 - Jan 11 2026", "2 Nov 2025 - 11 Jan 2026", "Nov 2 2025 - Jan 11 2026"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:55:58.369264+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 02 Nov 2025 - 11 Jan 2026 11 Jan 2026 06:24 PM Download", "expected_range_texts": ["Nov 2, 2025 - Jan 11, 2026", "02 Nov 2025 - 11 Jan 2026", "Nov 02, 2025 - Jan 11, 2026", "Nov 02 2025 - Jan 11 2026", "2 Nov 2025 - 11 Jan 2026", "Nov 2 2025 - Jan 11 2026"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:55:58.369462+00:00"}
{"run_id": "20260111_124156453144_A668_004", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T12:55:58.695755+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20251102_20260111.xlsx", "suggested_filename": "1247-Iv9MR_iR7p7MRHL1TTvHC.xlsx", "expected_range_texts": ["Nov 2, 2025 - Jan 11, 2026", "02 Nov 2025 - 11 Jan 2026", "Nov 02, 2025 - Jan 11, 2026", "Nov 02 2025 - Jan 11 2026", "2 Nov 2025 - 11 Jan 2026", "Nov 2 2025 - Jan 11 2026"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:55:59.220741+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20251102_20260111.xlsx", "ts": "2026-01-11T12:55:59.221163+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-11-19", "to_date": "2026-01-11", "ts": "2026-01-11T12:55:59.665723+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "orders_sync_log", "status": "error", "message": "Failed to insert orders sync log row (DB error)", "error": "(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedObjectError'>: constraint \"uq_orders_sync_log_window\" for table \"orders_sync_log\" does not exist\n[SQL: INSERT INTO orders_sync_log (pipeline_id, run_id, run_env, cost_center, store_code, from_date, to_date, status) VALUES ($1::BIGINT, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::DATE, $7::DATE, $8::VARCHAR) ON CONFLICT ON CONSTRAINT uq_orders_sync_log_window DO UPDATE SET status = $9::VARCHAR, attempt_no = (orders_sync_log.attempt_no + $10::INTEGER), updated_at = now() RETURNING orders_sync_log.id]\n[parameters: (6, '20260111_124156453144_A668_004', 'dev', 'UN3668', 'A668', datetime.date(2025, 11, 19), datetime.date(2026, 1, 11), 'running', 'running', 1)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "ts": "2026-01-11T12:55:59.689993+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "ts": "2026-01-11T12:56:00.390839+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "sales_ingest", "status": "warn", "message": "TD Sales workbook ingested with warnings", "warning_count": 2, "warning_samples": ["Invalid phone number dropped: A817--7461", "Invalid phone number dropped: 18409065"], "warnings_truncated": false, "staging_rows": 737, "final_rows": 737, "ts": "2026-01-11T12:56:03.646057+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20251102_20260111.xlsx", "ts": "2026-01-11T12:56:03.646489+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T12:56:03.646576+00:00"}
{"run_id": "20260111_124156453144_A817_003", "store_code": "A817", "phase": "window_summary", "status": "ok", "message": "TD window summary", "from_date": "2025-11-02", "to_date": "2026-01-11", "orders_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20251102_20260111.xlsx", "sales_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20251102_20260111.xlsx", "orders_ingested_rows": 577, "sales_ingested_rows": 737, "final_status": "success", "ts": "2026-01-11T12:56:03.646644+00:00"}
{"run_id": "20260111_124156453144_A817_003", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T12:56:04.074038+00:00"}
{"run_id": "20260111_124156453144_A817_003", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "ok", "ts": "2026-01-11T12:56:04.145546+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T12:56:13.573939+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T12:56:13.574146+00:00"}
{"run_id": "20260111_124156453144_A817_003", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A817", "window_index": 3, "window_status": "success", "ts": "2026-01-11T12:56:13.578723+00:00"}
{"run_id": "20260111_124156453144", "phase": "window_result", "status": "ok", "message": "Window completed", "store_code": "A817", "pipeline_name": "td_orders_sync", "window_run_id": "20260111_124156453144_A817_003", "window_index": 3, "from_date": "2025-11-02", "to_date": "2026-01-11", "window_status": "success", "status_note": " (from pipeline run summary)", "error_message": null, "download_paths": {"orders": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20251102_20260111.xlsx", "filenames": ["A817_td_orders_20251102_20260111.xlsx"]}, "sales": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20251102_20260111.xlsx", "filenames": ["A817_td_sales_20251102_20260111.xlsx"]}}, "ingestion_counts": {"orders": {"rows_downloaded": 577, "rows_ingested": 577, "staging_rows": 577, "final_rows": 577}, "sales": {"rows_downloaded": 737, "rows_ingested": 737, "staging_rows": 737, "final_rows": 737}}, "ts": "2026-01-11T12:56:13.578866+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T12:56:14.687599+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T12:56:14.687765+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T12:56:14.687895+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T12:56:15.501762+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T12:56:15.501875+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "verification_seen": false, "ts": "2026-01-11T12:56:15.535457+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T12:56:15.573573+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T12:56:50.606221+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:26:15", "ts": "2026-01-11T12:56:51.617319+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:26:15", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T12:56:51.617453+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:26:15", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T12:56:51.656458+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:56:51.656680+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T12:56:53.764897+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T12:56:53.765022+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-11-19", "to_value": "2026-01-11", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Nov 19, 2025 - Jan 11, 2026", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:56:55.606470+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 392, "ts": "2026-01-11T12:56:56.083380+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:56:56.164985+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:56:56.165086+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:56:56.208171+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 19 Nov 2025 - 11 Jan 2026 11 Jan 2026 06:26 PM Download", "expected_range_texts": ["Nov 19, 2025 - Jan 11, 2026", "19 Nov 2025 - 11 Jan 2026", "Nov 19 2025 - Jan 11 2026"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:58:28.326771+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 19 Nov 2025 - 11 Jan 2026 11 Jan 2026 06:26 PM Download", "expected_range_texts": ["Nov 19, 2025 - Jan 11, 2026", "19 Nov 2025 - 11 Jan 2026", "Nov 19 2025 - Jan 11 2026"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:58:28.326943+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20251119_20260111.xlsx", "suggested_filename": "1170-tr2CN9hcadOb-x5rP4eJ8.xlsx", "expected_range_texts": ["Nov 19, 2025 - Jan 11, 2026", "19 Nov 2025 - 11 Jan 2026", "Nov 19 2025 - Jan 11 2026"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T12:58:29.416015+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "ingest", "status": "warn", "message": "TD Orders workbook ingested with warnings", "warning_count": 1, "warning_samples": ["Invalid phone number dropped: A668--7051"], "warnings_truncated": false, "staging_rows": 457, "final_rows": 457, "ts": "2026-01-11T12:58:33.074053+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:26:15", "ts": "2026-01-11T12:58:33.074389+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T12:58:33.185510+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T12:58:33.219278+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:26:51:140", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:26:15"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:26:15"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:26:15"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:26:51:140"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:26:51:140"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T12:58:33.927094+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:26:51:140", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:26:51:140", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:26:15"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:26:15"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2018:26:15"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:26:51:140"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:26:51:140"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T12:58:33.927349+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:26:51:140", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T12:58:33.933142+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2018:26:51:140", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T12:58:34.077676+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T12:58:34.077910+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe_preflight", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T12:58:35.705051+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-11-19", "to_value": "2026-01-11", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Nov 19, 2025 - Jan 11, 2026", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T12:58:42.552872+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 379, "ts": "2026-01-11T12:58:43.018548+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:58:43.110788+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T12:58:43.110905+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T12:58:43.154810+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 19 Nov 2025 - 11 Jan 2026 11 Jan 2026 06:28 PM Download", "expected_range_texts": ["Nov 19, 2025 - Jan 11, 2026", "19 Nov 2025 - 11 Jan 2026", "Nov 19 2025 - Jan 11 2026"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T13:00:15.393868+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 19 Nov 2025 - 11 Jan 2026 11 Jan 2026 06:28 PM Download", "expected_range_texts": ["Nov 19, 2025 - Jan 11, 2026", "19 Nov 2025 - 11 Jan 2026", "Nov 19 2025 - Jan 11 2026"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T13:00:15.394780+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20251119_20260111.xlsx", "suggested_filename": "1170-hbmmvK9nHM37U2uctA2xO.xlsx", "expected_range_texts": ["Nov 19, 2025 - Jan 11, 2026", "19 Nov 2025 - 11 Jan 2026", "Nov 19 2025 - Jan 11 2026"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T13:00:16.941374+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20251119_20260111.xlsx", "ts": "2026-01-11T13:00:16.941651+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "sales_ingest", "status": "warn", "message": "TD Sales workbook ingested with warnings", "warning_count": 1, "warning_samples": ["Invalid phone number dropped: A668--7051"], "warnings_truncated": false, "staging_rows": 511, "final_rows": 511, "ts": "2026-01-11T13:00:19.410768+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20251119_20260111.xlsx", "ts": "2026-01-11T13:00:19.410975+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T13:00:19.411036+00:00"}
{"run_id": "20260111_124156453144_A668_004", "store_code": "A668", "phase": "window_summary", "status": "ok", "message": "TD window summary", "from_date": "2025-11-19", "to_date": "2026-01-11", "orders_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20251119_20260111.xlsx", "sales_downloaded_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20251119_20260111.xlsx", "orders_ingested_rows": 457, "sales_ingested_rows": 511, "final_status": "success", "ts": "2026-01-11T13:00:19.411092+00:00"}
{"run_id": "20260111_124156453144_A668_004", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T13:00:19.873009+00:00"}
{"run_id": "20260111_124156453144_A668_004", "phase": "run_summary", "status": "ok", "message": "Run summary updated", "overall_status": "ok", "ts": "2026-01-11T13:00:19.926367+00:00"}
{"run_id": "20260111_124156453144_A668_004", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A668", "window_index": 4, "window_status": "success", "ts": "2026-01-11T13:00:29.268389+00:00"}
{"run_id": "20260111_124156453144", "phase": "window_result", "status": "ok", "message": "Window completed", "store_code": "A668", "pipeline_name": "td_orders_sync", "window_run_id": "20260111_124156453144_A668_004", "window_index": 4, "from_date": "2025-11-19", "to_date": "2026-01-11", "window_status": "success", "status_note": " (from pipeline run summary)", "error_message": null, "download_paths": {"orders": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20251119_20260111.xlsx", "filenames": ["A668_td_orders_20251119_20260111.xlsx"]}, "sales": {"download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20251119_20260111.xlsx", "filenames": ["A668_td_sales_20251119_20260111.xlsx"]}}, "ingestion_counts": {"orders": {"rows_downloaded": 457, "rows_ingested": 457, "staging_rows": 457, "final_rows": 457}, "sales": {"rows_downloaded": 511, "rows_ingested": 511, "staging_rows": 511, "final_rows": 511}}, "ts": "2026-01-11T13:00:29.268579+00:00"}
{"run_id": "20260111_124156453144", "phase": "summary", "status": "ok", "message": "Orders sync profiler summary", "run_env": "dev", "total_windows": 14, "status_counts": {"success": 10, "partial": 2, "failed": 0, "skipped": 0}, "pipeline_totals": {"TD": {"window_count": 7, "status_counts": {"success": 7, "partial": 0, "failed": 0, "skipped": 0}}, "UC": {"window_count": 7, "status_counts": {"success": 3, "partial": 2, "failed": 0, "skipped": 0}}}, "store_totals": {"A817": {"pipeline_group": "TD", "pipeline_name": "td_orders_sync", "overall_status": "success", "window_count": 3, "status_counts": {"success": 3, "partial": 0, "failed": 0, "skipped": 0}}, "A668": {"pipeline_group": "TD", "pipeline_name": "td_orders_sync", "overall_status": "success", "window_count": 4, "status_counts": {"success": 4, "partial": 0, "failed": 0, "skipped": 0}}, "UC567": {"pipeline_group": "UC", "pipeline_name": "uc_orders_sync", "overall_status": "partial", "window_count": 4, "status_counts": {"success": 2, "partial": 1, "failed": 0, "skipped": 0}}, "UC610": {"pipeline_group": "UC", "pipeline_name": "uc_orders_sync", "overall_status": "partial", "window_count": 3, "status_counts": {"success": 1, "partial": 1, "failed": 0, "skipped": 0}}}, "overall_status": "partial", "ts": "2026-01-11T13:00:29.313240+00:00"}
