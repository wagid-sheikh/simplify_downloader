{"run_id": "20260111_082017293136", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T08:20:17.293657+00:00"}
{"run_id": "20260111_082017293136", "phase": "init", "status": "ok", "message": "Loaded store rows", "sync_group": "TD", "store_count": 2, "stores": ["A668", "A817"], "ts": "2026-01-11T08:20:17.423680+00:00"}
{"run_id": "20260111_082017293136", "phase": "init", "status": "ok", "message": "Loaded store rows", "sync_group": "UC", "store_count": 2, "stores": ["UC567", "UC610"], "ts": "2026-01-11T08:20:17.439454+00:00"}
{"run_id": "20260111_082017293136", "phase": "store", "status": "ok", "message": "Computed window plan", "store_code": "A668", "start_date": "2025-03-01", "end_date": "2026-01-11", "window_days": 90, "overlap_days": 2, "window_count": 4, "ts": "2026-01-11T08:20:17.494181+00:00"}
{"run_id": "20260111_082017293136", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A668", "from_date": "2025-03-01", "to_date": "2025-05-29", "window_index": 1, "ts": "2026-01-11T08:20:17.494297+00:00"}
{"run_id": "20260111_082017293136_A668_001", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T08:20:17.494718+00:00"}
{"run_id": "20260111_082017293136", "phase": "store", "status": "ok", "message": "Computed window plan", "store_code": "UC610", "start_date": "2025-05-11", "end_date": "2026-01-11", "window_days": 90, "overlap_days": 2, "window_count": 3, "ts": "2026-01-11T08:20:17.498934+00:00"}
{"run_id": "20260111_082017293136", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "UC610", "from_date": "2025-05-11", "to_date": "2025-08-08", "window_index": 1, "ts": "2026-01-11T08:20:17.499382+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T08:20:17.500963+00:00"}
{"run_id": "20260111_082017293136", "phase": "store", "status": "ok", "message": "Computed window plan", "store_code": "UC567", "start_date": "2025-02-08", "end_date": "2026-01-11", "window_days": 90, "overlap_days": 2, "window_count": 4, "ts": "2026-01-11T08:20:17.504210+00:00"}
{"run_id": "20260111_082017293136", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "UC567", "from_date": "2025-02-08", "to_date": "2025-05-08", "window_index": 1, "ts": "2026-01-11T08:20:17.504305+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T08:20:17.504634+00:00"}
{"run_id": "20260111_082017293136", "phase": "store", "status": "ok", "message": "Computed window plan", "store_code": "A817", "start_date": "2025-05-10", "end_date": "2026-01-11", "window_days": 90, "overlap_days": 2, "window_count": 3, "ts": "2026-01-11T08:20:17.571780+00:00"}
{"run_id": "20260111_082017293136", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A817", "from_date": "2025-05-10", "to_date": "2025-08-07", "window_index": 1, "ts": "2026-01-11T08:20:17.571944+00:00"}
{"run_id": "20260111_082017293136_A817_001", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T08:20:17.572540+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "run_summary", "status": "error", "message": "Failed to start run summary", "error": "(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"total_time_taken\" of relation \"pipeline_run_summaries\" violates not-null constraint\nDETAIL:  Failing row contains (234, uc_orders_sync, 20260111_082017293136_UC610_001, dev, 2026-01-11 13:50:17.501035+05:30, 2026-01-11 13:50:17.501035+05:30, null, 2025-05-11, running, Run started., {}, {}, 2026-01-11 13:50:17.566635+05:30).\n[SQL: INSERT INTO pipeline_run_summaries (pipeline_name, run_id, run_env, started_at, finished_at, report_date, overall_status, summary_text, phases_json, metrics_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::DATE, $7::VARCHAR, $8::VARCHAR, $9::JSONB, $10::JSONB)]\n[parameters: ('uc_orders_sync', '20260111_082017293136_UC610_001', 'dev', datetime.datetime(2026, 1, 11, 8, 20, 17, 501035, tzinfo=datetime.timezone.utc), datetime.datetime(2026, 1, 11, 8, 20, 17, 501035, tzinfo=datetime.timezone.utc), datetime.date(2025, 5, 11), 'running', 'Run started.', '{}', '{}')]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "ts": "2026-01-11T08:20:17.574273+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "init", "status": "ok", "message": "Starting UC orders sync discovery flow", "run_env": "dev", "from_date": "2025-05-11", "to_date": "2025-08-08", "ts": "2026-01-11T08:20:17.574406+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T08:20:17.574472+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "run_summary", "status": "error", "message": "Failed to start run summary", "error": "(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"total_time_taken\" of relation \"pipeline_run_summaries\" violates not-null constraint\nDETAIL:  Failing row contains (235, uc_orders_sync, 20260111_082017293136_UC567_001, dev, 2026-01-11 13:50:17.504692+05:30, 2026-01-11 13:50:17.504692+05:30, null, 2025-02-08, running, Run started., {}, {}, 2026-01-11 13:50:17.568616+05:30).\n[SQL: INSERT INTO pipeline_run_summaries (pipeline_name, run_id, run_env, started_at, finished_at, report_date, overall_status, summary_text, phases_json, metrics_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::DATE, $7::VARCHAR, $8::VARCHAR, $9::JSONB, $10::JSONB)]\n[parameters: ('uc_orders_sync', '20260111_082017293136_UC567_001', 'dev', datetime.datetime(2026, 1, 11, 8, 20, 17, 504692, tzinfo=datetime.timezone.utc), datetime.datetime(2026, 1, 11, 8, 20, 17, 504692, tzinfo=datetime.timezone.utc), datetime.date(2025, 2, 8), 'running', 'Run started.', '{}', '{}')]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "ts": "2026-01-11T08:20:17.575322+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "init", "status": "ok", "message": "Starting UC orders sync discovery flow", "run_env": "dev", "from_date": "2025-02-08", "to_date": "2025-05-08", "ts": "2026-01-11T08:20:17.575499+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T08:20:17.575596+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "init", "status": "ok", "message": "Loaded UC store rows", "store_count": 1, "stores": ["UC610"], "ts": "2026-01-11T08:20:17.580415+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "init", "status": "ok", "message": "Loaded UC store rows", "store_count": 1, "stores": ["UC567"], "ts": "2026-01-11T08:20:17.581256+00:00"}
{"run_id": "20260111_082017293136_A817_001", "phase": "run_summary", "status": "error", "message": "Failed to start run summary", "error": "(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"total_time_taken\" of relation \"pipeline_run_summaries\" violates not-null constraint\nDETAIL:  Failing row contains (236, td_orders_sync, 20260111_082017293136_A817_001, dev, 2026-01-11 13:50:17.57262+05:30, 2026-01-11 13:50:17.57262+05:30, null, 2025-05-10, running, Run started., {}, {}, 2026-01-11 13:50:17.58031+05:30).\n[SQL: INSERT INTO pipeline_run_summaries (pipeline_name, run_id, run_env, started_at, finished_at, report_date, overall_status, summary_text, phases_json, metrics_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::DATE, $7::VARCHAR, $8::VARCHAR, $9::JSONB, $10::JSONB)]\n[parameters: ('td_orders_sync', '20260111_082017293136_A817_001', 'dev', datetime.datetime(2026, 1, 11, 8, 20, 17, 572620, tzinfo=datetime.timezone.utc), datetime.datetime(2026, 1, 11, 8, 20, 17, 572620, tzinfo=datetime.timezone.utc), datetime.date(2025, 5, 10), 'running', 'Run started.', '{}', '{}')]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "ts": "2026-01-11T08:20:17.587982+00:00"}
{"run_id": "20260111_082017293136_A817_001", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-05-10", "to_date": "2025-08-07", "ts": "2026-01-11T08:20:17.588386+00:00"}
{"run_id": "20260111_082017293136_A817_001", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T08:20:17.588495+00:00"}
{"run_id": "20260111_082017293136_A668_001", "phase": "run_summary", "status": "error", "message": "Failed to start run summary", "error": "(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"total_time_taken\" of relation \"pipeline_run_summaries\" violates not-null constraint\nDETAIL:  Failing row contains (237, td_orders_sync, 20260111_082017293136_A668_001, dev, 2026-01-11 13:50:17.494778+05:30, 2026-01-11 13:50:17.494778+05:30, null, 2025-03-01, running, Run started., {}, {}, 2026-01-11 13:50:17.587885+05:30).\n[SQL: INSERT INTO pipeline_run_summaries (pipeline_name, run_id, run_env, started_at, finished_at, report_date, overall_status, summary_text, phases_json, metrics_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::DATE, $7::VARCHAR, $8::VARCHAR, $9::JSONB, $10::JSONB)]\n[parameters: ('td_orders_sync', '20260111_082017293136_A668_001', 'dev', datetime.datetime(2026, 1, 11, 8, 20, 17, 494778, tzinfo=datetime.timezone.utc), datetime.datetime(2026, 1, 11, 8, 20, 17, 494778, tzinfo=datetime.timezone.utc), datetime.date(2025, 3, 1), 'running', 'Run started.', '{}', '{}')]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "ts": "2026-01-11T08:20:17.726480+00:00"}
{"run_id": "20260111_082017293136_A668_001", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-03-01", "to_date": "2025-05-29", "ts": "2026-01-11T08:20:17.726674+00:00"}
{"run_id": "20260111_082017293136_A668_001", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T08:20:17.726738+00:00"}
{"run_id": "20260111_082017293136_A817_001", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A817"], "skipped_stores": null, "ts": "2026-01-11T08:20:17.730241+00:00"}
{"run_id": "20260111_082017293136_A817_001", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A817"], "ts": "2026-01-11T08:20:17.730325+00:00"}
{"run_id": "20260111_082017293136_A668_001", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A668"], "skipped_stores": null, "ts": "2026-01-11T08:20:17.744692+00:00"}
{"run_id": "20260111_082017293136_A668_001", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A668"], "ts": "2026-01-11T08:20:17.744815+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T08:20:18.650679+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T08:20:18.668041+00:00"}
{"run_id": "20260111_082017293136_A668_001", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T08:20:18.702539+00:00"}
{"run_id": "20260111_082017293136_A817_001", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T08:20:18.713568+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-05-10", "to_date": "2025-08-07", "ts": "2026-01-11T08:20:19.987351+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "store", "status": "ok", "message": "Starting UC store discovery", "store_code": "UC567", "store_name": "Sector 56, Gurgaon", "run_env": "dev", "ts": "2026-01-11T08:20:19.994967+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "store", "status": "ok", "message": "Starting UC store discovery", "store_code": "UC610", "store_name": "Sushant Lok 1, Gurgaon", "run_env": "dev", "ts": "2026-01-11T08:20:20.062668+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-03-01", "to_date": "2025-05-29", "ts": "2026-01-11T08:20:20.082662+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "orders_sync_log", "status": "warn", "message": "Skipping orders sync log insert because run summary row is missing", "store_code": "UC567", "ts": "2026-01-11T08:20:20.223598+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "orders_sync_log", "status": "warn", "message": "Skipping orders sync log insert because run summary row is missing", "store_code": "UC610", "ts": "2026-01-11T08:20:20.227803+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "orders_sync_log", "status": "warn", "message": "Skipping orders sync log insert because run summary row is missing", "ts": "2026-01-11T08:20:20.246079+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "orders_sync_log", "status": "warn", "message": "Skipping orders sync log insert because run summary row is missing", "ts": "2026-01-11T08:20:20.247073+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "login", "status": "ok", "message": "Reusing existing storage state", "store_code": "UC567", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/UC567_storage_state.json", "ts": "2026-01-11T08:20:21.381214+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "login", "status": "ok", "message": "Reusing existing storage state", "store_code": "UC610", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/UC610_storage_state.json", "ts": "2026-01-11T08:20:21.473586+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "ts": "2026-01-11T08:20:21.650604+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "ts": "2026-01-11T08:20:21.744759+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T08:20:27.664794+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T08:20:27.664954+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T08:20:27.710575+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T08:20:27.710733+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T08:20:28.829859+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T08:20:28.830026+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T08:20:28.830139+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T08:20:29.039629+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T08:20:29.039837+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T08:20:29.040055+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T08:20:30.116902+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T08:20:30.117167+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "verification_seen": false, "ts": "2026-01-11T08:20:30.168061+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T08:20:30.212608+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T08:20:30.401258+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T08:20:30.403060+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "verification_seen": false, "ts": "2026-01-11T08:20:30.423650+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "session", "status": "ok", "message": "Persisted storage state for A817 after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "session_reused": true, "refreshed": true, "ts": "2026-01-11T08:20:30.424535+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T08:20:30.473892+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T08:21:05.250544+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T08:21:05.515816+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:30", "ts": "2026-01-11T08:21:06.367443+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:30", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T08:21:06.367580+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:30", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T08:21:06.425767+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:21:06.425983+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:31", "ts": "2026-01-11T08:21:07.093170+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:31", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T08:21:07.096034+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:31", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T08:21:07.145156+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:21:07.145438+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T08:21:08.152805+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T08:21:08.152954+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T08:21:09.269963+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T08:21:09.270102+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-03-01", "to_value": "2025-05-29", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Mar 1, 2025 - May 29, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:21:10.045932+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 456, "ts": "2026-01-11T08:21:10.634660+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:21:10.799871+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:21:10.800047+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:21:10.872893+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-05-10", "to_value": "2025-08-07", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "May 10, 2025 - Aug 7, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:21:11.521127+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 437, "ts": "2026-01-11T08:21:12.091759+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:21:12.175700+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:21:12.175832+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:21:12.217863+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "navigation", "status": "ok", "message": "Home page ready", "store_code": "UC567", "home_url": "https://store.ucleanlaundry.com/dashboard", "selector": "header", "current_url": "https://store.ucleanlaundry.com/dashboard", "source": "session", "ts": "2026-01-11T08:21:40.672121+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "navigation", "status": "ok", "message": "Home page ready", "store_code": "UC610", "home_url": "https://store.ucleanlaundry.com/dashboard", "selector": "header", "current_url": "https://store.ucleanlaundry.com/dashboard", "source": "session", "ts": "2026-01-11T08:21:40.879762+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "navigation", "status": "ok", "message": "GST report readiness signal detected", "store_code": "UC567", "ts": "2026-01-11T08:21:41.394811+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "navigation", "status": "ok", "message": "GST reports navigation path selected", "store_code": "UC567", "path": "direct URL", "current_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T08:21:41.394960+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "navigation", "status": "ok", "message": "GST report readiness signal detected", "store_code": "UC610", "ts": "2026-01-11T08:21:41.620216+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "navigation", "status": "ok", "message": "GST reports navigation path selected", "store_code": "UC610", "path": "direct URL", "current_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T08:21:41.620346+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC610", "calendar_label": "start", "target_month": "MAY 2025", "displayed_month": "MAY 2025", "prev_clicks": 8, "next_clicks": 0, "ts": "2026-01-11T08:21:44.096637+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC610", "calendar_label": "start", "selected_date": "2025-05-11", "displayed_month": "MAY 2025", "ts": "2026-01-11T08:21:44.221807+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC567", "calendar_label": "start", "target_month": "FEB 2025", "displayed_month": "FEB 2025", "prev_clicks": 11, "next_clicks": 0, "ts": "2026-01-11T08:21:44.720026+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "filters", "status": "warn", "message": "Target day not found in calendar; retrying selection", "store_code": "UC567", "calendar_label": "start", "target_day": 8, "target_month": "FEB 2025", "ts": "2026-01-11T08:21:44.730537+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC610", "calendar_label": "end", "target_month": "AUG 2025", "displayed_month": "AUG 2025", "prev_clicks": 5, "next_clicks": 0, "ts": "2026-01-11T08:21:45.651413+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "filters", "status": "debug", "message": "End-date calendar day cell selected", "store_code": "UC610", "aria_selected": "true", "ts": "2026-01-11T08:21:45.765733+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "filters", "status": "ok", "message": "Selected calendar date", "store_code": "UC610", "calendar_label": "end", "selected_date": "2025-08-08", "displayed_month": "AUG 2025", "ts": "2026-01-11T08:21:45.765833+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "filters", "status": "warn", "message": "Apply section not found after date selection", "store_code": "UC610", "ts": "2026-01-11T08:21:45.781118+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "filters", "status": "debug", "message": "Calendar overlay visibility counts", "store_code": "UC610", "overlay_count": 1, "apply_count": 1, "ts": "2026-01-11T08:21:45.789817+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "filters", "status": "warn", "message": "GST report rows not detected after applying date range", "store_code": "UC610", "row_count": 0, "ts": "2026-01-11T08:21:46.442629+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "filters", "status": "ok", "message": "GST report row count after apply", "store_code": "UC610", "row_count": 0, "refreshed": false, "overlay_open": false, "ts": "2026-01-11T08:21:46.449599+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "download", "status": "ok", "message": "Checked Export Report button visibility", "store_code": "UC610", "export_selector": "button.btn.primary.export", "export_count": 1, "export_is_visible": true, "attempt": 1, "ts": "2026-01-11T08:21:46.974262+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "download", "status": "ok", "message": "Clicking Export Report button", "store_code": "UC610", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T08:21:46.985649+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "download", "status": "ok", "message": "Export Report button click completed", "store_code": "UC610", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "click_outcome": "success", "ts": "2026-01-11T08:21:47.104739+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "download", "status": "ok", "message": "GST report download saved", "store_code": "UC610", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/UC610_uc_gst_20250511_20250808.xlsx", "suggested_filename": "GST_Report_2025-05-11_to_2025-08-08.xlsx", "export_selector": "button.btn.primary.export", "row_count": 0, "attempt": 1, "ts": "2026-01-11T08:21:47.131360+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "ingest", "status": "ok", "message": "UC GST workbook ingested", "store_code": "UC610", "staging_rows": 188, "final_rows": 188, "staging_inserted": 188, "staging_updated": 0, "final_inserted": 188, "final_updated": 0, "ts": "2026-01-11T08:21:48.631332+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "selectors", "status": "ok", "message": "Skipped GST report selector cue capture because DOM logging is disabled", "store_code": "UC610", "ts": "2026-01-11T08:21:48.631428+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "store", "status": "ok", "message": "UC store discovery complete", "store_code": "UC610", "final_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T08:21:48.631764+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "notifications", "status": "ok", "message": "UC orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T08:21:49.354608+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "run_summary", "status": "ok", "message": "Run summary inserted", "overall_status": "ok", "ts": "2026-01-11T08:21:49.413052+00:00"}
{"run_id": "20260111_082017293136_UC610_001", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "UC610", "window_index": 1, "window_status": "success", "ts": "2026-01-11T08:21:58.513444+00:00"}
{"run_id": "20260111_082017293136", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "UC610", "from_date": "2025-08-07", "to_date": "2025-11-04", "window_index": 2, "ts": "2026-01-11T08:21:58.513562+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T08:21:58.513956+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "run_summary", "status": "error", "message": "Failed to start run summary", "error": "(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"total_time_taken\" of relation \"pipeline_run_summaries\" violates not-null constraint\nDETAIL:  Failing row contains (239, uc_orders_sync, 20260111_082017293136_UC610_002, dev, 2026-01-11 13:51:58.514009+05:30, 2026-01-11 13:51:58.514009+05:30, null, 2025-08-07, running, Run started., {}, {}, 2026-01-11 13:51:58.516195+05:30).\n[SQL: INSERT INTO pipeline_run_summaries (pipeline_name, run_id, run_env, started_at, finished_at, report_date, overall_status, summary_text, phases_json, metrics_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::DATE, $7::VARCHAR, $8::VARCHAR, $9::JSONB, $10::JSONB)]\n[parameters: ('uc_orders_sync', '20260111_082017293136_UC610_002', 'dev', datetime.datetime(2026, 1, 11, 8, 21, 58, 514009, tzinfo=datetime.timezone.utc), datetime.datetime(2026, 1, 11, 8, 21, 58, 514009, tzinfo=datetime.timezone.utc), datetime.date(2025, 8, 7), 'running', 'Run started.', '{}', '{}')]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "ts": "2026-01-11T08:21:58.517450+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "init", "status": "ok", "message": "Starting UC orders sync discovery flow", "run_env": "dev", "from_date": "2025-08-07", "to_date": "2025-11-04", "ts": "2026-01-11T08:21:58.517661+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T08:21:58.517736+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "init", "status": "ok", "message": "Loaded UC store rows", "store_count": 1, "stores": ["UC610"], "ts": "2026-01-11T08:21:58.519359+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T08:21:59.103647+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "store", "status": "ok", "message": "Starting UC store discovery", "store_code": "UC610", "store_name": "Sushant Lok 1, Gurgaon", "run_env": "dev", "ts": "2026-01-11T08:21:59.619421+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "orders_sync_log", "status": "warn", "message": "Skipping orders sync log insert because run summary row is missing", "store_code": "UC610", "ts": "2026-01-11T08:21:59.632136+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "login", "status": "ok", "message": "Reusing existing storage state", "store_code": "UC610", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/UC610_storage_state.json", "ts": "2026-01-11T08:22:00.486620+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 01 Mar 2025 - 29 May 2025 11 Jan 2026 01:51 PM Download", "expected_range_texts": ["Mar 1, 2025 - May 29, 2025", "01 Mar 2025 - 29 May 2025", "Mar 01, 2025 - May 29, 2025", "Mar 01 2025 - May 29 2025", "1 Mar 2025 - 29 May 2025", "Mar 1 2025 - May 29 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:22:42.147925+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 01 Mar 2025 - 29 May 2025 11 Jan 2026 01:51 PM Download", "expected_range_texts": ["Mar 1, 2025 - May 29, 2025", "01 Mar 2025 - 29 May 2025", "Mar 01, 2025 - May 29, 2025", "Mar 01 2025 - May 29 2025", "1 Mar 2025 - 29 May 2025", "Mar 1 2025 - May 29 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:22:42.148564+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250301_20250529.xlsx", "suggested_filename": "1170-BbJXnfRM-STQnoTa7ZL93.xlsx", "expected_range_texts": ["Mar 1, 2025 - May 29, 2025", "01 Mar 2025 - 29 May 2025", "Mar 01, 2025 - May 29, 2025", "Mar 01 2025 - May 29 2025", "1 Mar 2025 - 29 May 2025", "Mar 1 2025 - May 29 2025"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:22:43.016199+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 10 May 2025 - 07 Aug 2025 11 Jan 2026 01:51 PM Download", "expected_range_texts": ["May 10, 2025 - Aug 7, 2025", "10 May 2025 - 07 Aug 2025", "May 10, 2025 - Aug 07, 2025", "May 10 2025 - Aug 07 2025", "10 May 2025 - 7 Aug 2025", "May 10 2025 - Aug 7 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:22:43.362159+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Extended report request poll window to ETA", "eta_seconds": 600, "pending_eta_seconds": null, "new_timeout_ms": 600000, "range_match_strategy": "date_range_text_pattern", "ts": "2026-01-11T08:22:43.362307+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 10 May 2025 - 07 Aug 2025 11 Jan 2026 01:51 PM Download", "expected_range_texts": ["May 10, 2025 - Aug 7, 2025", "10 May 2025 - 07 Aug 2025", "May 10, 2025 - Aug 07, 2025", "May 10 2025 - Aug 07 2025", "10 May 2025 - 7 Aug 2025", "May 10 2025 - Aug 7 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:22:43.362367+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20250510_20250807.xlsx", "suggested_filename": "1247-pWWOx0rvkkpI7j1HkI6Zv.xlsx", "expected_range_texts": ["May 10, 2025 - Aug 7, 2025", "10 May 2025 - 07 Aug 2025", "May 10, 2025 - Aug 07, 2025", "May 10 2025 - Aug 07 2025", "10 May 2025 - 7 Aug 2025", "May 10 2025 - Aug 7 2025"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:22:44.174119+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "ingest", "status": "ok", "message": "TD Orders workbook ingested", "staging_rows": 456, "final_rows": 456, "ts": "2026-01-11T08:22:50.325548+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:30", "ts": "2026-01-11T08:22:50.326088+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T08:22:50.469900+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T08:22:50.483705+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "ingest", "status": "ok", "message": "TD Orders workbook ingested", "staging_rows": 413, "final_rows": 413, "ts": "2026-01-11T08:22:50.665942+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:31", "ts": "2026-01-11T08:22:50.666406+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T08:22:50.822869+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T08:22:50.845387+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:05:833", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:30"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:30"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:30"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:05:833"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:05:833"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T08:22:51.164941+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:05:833", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:05:833", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:30"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:30"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:30"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:05:833"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:05:833"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T08:22:51.165175+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:05:833", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T08:22:51.170898+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:06:387", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:31"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:31"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:31"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:06:387"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:06:387"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T08:22:51.392144+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:06:387", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:06:387", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:31"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:31"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:50:31"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:06:387"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:06:387"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T08:22:51.392734+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:06:387", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T08:22:51.406289+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:05:833", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T08:22:51.417387+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:22:51.417818+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:51:06:387", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T08:22:51.552860+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:22:51.553070+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe_preflight", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T08:22:51.967662+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe_preflight", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T08:22:52.086408+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-05-10", "to_value": "2025-08-07", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "May 10, 2025 - Aug 7, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:22:59.306869+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-03-01", "to_value": "2025-05-29", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Mar 1, 2025 - May 29, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:22:59.450677+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 392, "ts": "2026-01-11T08:22:59.814551+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:22:59.904051+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:22:59.904154+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:22:59.950932+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 411, "ts": "2026-01-11T08:22:59.981216+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:23:00.074579+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:23:00.074667+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:23:00.115677+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "filters", "status": "warn", "message": "Date picker popup not visible after clicking input", "store_code": "UC567", "selector": ".calendar-body.show, .calendar-body .calendar", "ts": "2026-01-11T08:23:14.783035+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "navigation", "status": "ok", "message": "Home page ready", "store_code": "UC610", "home_url": "https://store.ucleanlaundry.com/dashboard", "selector": "header", "current_url": "https://store.ucleanlaundry.com/dashboard", "source": "session", "ts": "2026-01-11T08:23:19.880221+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "navigation", "status": "ok", "message": "GST report readiness signal detected", "store_code": "UC610", "ts": "2026-01-11T08:23:20.518770+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "navigation", "status": "ok", "message": "GST reports navigation path selected", "store_code": "UC610", "path": "direct URL", "current_url": "https://store.ucleanlaundry.com/gst-report", "ts": "2026-01-11T08:23:20.518875+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "filters", "status": "ok", "message": "Navigated calendar month", "store_code": "UC610", "calendar_label": "start", "target_month": "AUG 2025", "displayed_month": "AUG 2025", "prev_clicks": 5, "next_clicks": 0, "ts": "2026-01-11T08:23:22.170216+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "filters", "status": "warn", "message": "Target day not found in calendar; retrying selection", "store_code": "UC610", "calendar_label": "start", "target_day": 7, "target_month": "AUG 2025", "ts": "2026-01-11T08:23:22.185806+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "filters", "status": "warn", "message": "Target day not found after retry and fallbacks", "store_code": "UC567", "calendar_label": "start", "target_day": 8, "target_month": "FEB 2025", "ts": "2026-01-11T08:23:45.315263+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "filters", "status": "warn", "message": "Date range selection failed while navigating calendars", "store_code": "UC567", "start_date": "2025-02-08", "end_date": "2025-05-08", "error": "Calendar navigation button not found for direction=prev", "ts": "2026-01-11T08:24:15.339044+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "filters", "status": "warn", "message": "Date range apply incomplete; skipping export", "store_code": "UC567", "from_date": "2025-02-08", "to_date": "2025-05-08", "ts": "2026-01-11T08:24:15.339172+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "notifications", "status": "ok", "message": "UC orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T08:24:15.693492+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "run_summary", "status": "ok", "message": "Run summary inserted", "overall_status": "warning", "ts": "2026-01-11T08:24:15.698414+00:00"}
{"run_id": "20260111_082017293136_UC567_001", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "UC567", "window_index": 1, "window_status": "partial", "ts": "2026-01-11T08:24:24.759280+00:00"}
{"run_id": "20260111_082017293136", "phase": "window", "status": "warn", "message": "Stopping further windows after non-success status", "store_code": "UC567", "window_index": 1, "window_status": "partial", "ts": "2026-01-11T08:24:24.759391+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 10 May 2025 - 07 Aug 2025 11 Jan 2026 01:52 PM Download", "expected_range_texts": ["May 10, 2025 - Aug 7, 2025", "10 May 2025 - 07 Aug 2025", "May 10, 2025 - Aug 07, 2025", "May 10 2025 - Aug 07 2025", "10 May 2025 - 7 Aug 2025", "May 10 2025 - Aug 7 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:24:30.812779+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Extended report request poll window to ETA", "eta_seconds": 600, "pending_eta_seconds": null, "new_timeout_ms": 600000, "range_match_strategy": "date_range_text_pattern", "ts": "2026-01-11T08:24:30.812966+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 10 May 2025 - 07 Aug 2025 11 Jan 2026 01:52 PM Download", "expected_range_texts": ["May 10, 2025 - Aug 7, 2025", "10 May 2025 - 07 Aug 2025", "May 10, 2025 - Aug 07, 2025", "May 10 2025 - Aug 07 2025", "10 May 2025 - 7 Aug 2025", "May 10 2025 - Aug 7 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:24:30.813036+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 01 Mar 2025 - 29 May 2025 11 Jan 2026 01:52 PM Download", "expected_range_texts": ["Mar 1, 2025 - May 29, 2025", "01 Mar 2025 - 29 May 2025", "Mar 01, 2025 - May 29, 2025", "Mar 01 2025 - May 29 2025", "1 Mar 2025 - 29 May 2025", "Mar 1 2025 - May 29 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:24:30.944789+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 01 Mar 2025 - 29 May 2025 11 Jan 2026 01:52 PM Download", "expected_range_texts": ["Mar 1, 2025 - May 29, 2025", "01 Mar 2025 - 29 May 2025", "Mar 01, 2025 - May 29, 2025", "Mar 01 2025 - May 29 2025", "1 Mar 2025 - 29 May 2025", "Mar 1 2025 - May 29 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:24:30.944994+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20250510_20250807.xlsx", "suggested_filename": "1247-r098LcyYRoehNKJSLmUrv.xlsx", "expected_range_texts": ["May 10, 2025 - Aug 7, 2025", "10 May 2025 - 07 Aug 2025", "May 10, 2025 - Aug 07, 2025", "May 10 2025 - Aug 07 2025", "10 May 2025 - 7 Aug 2025", "May 10 2025 - Aug 7 2025"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:24:31.490242+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20250510_20250807.xlsx", "ts": "2026-01-11T08:24:31.490441+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250301_20250529.xlsx", "suggested_filename": "1170-qS5trOY5HfnhVAWO2G3Nb.xlsx", "expected_range_texts": ["Mar 1, 2025 - May 29, 2025", "01 Mar 2025 - 29 May 2025", "Mar 01, 2025 - May 29, 2025", "Mar 01 2025 - May 29 2025", "1 Mar 2025 - 29 May 2025", "Mar 1 2025 - May 29 2025"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:24:31.762640+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250301_20250529.xlsx", "ts": "2026-01-11T08:24:31.762793+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "sales_ingest", "status": "ok", "message": "TD Sales workbook ingested", "staging_rows": 338, "final_rows": 338, "ts": "2026-01-11T08:24:34.780068+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20250510_20250807.xlsx", "ts": "2026-01-11T08:24:34.780285+00:00"}
{"run_id": "20260111_082017293136_A817_001", "store_code": "A817", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T08:24:34.780412+00:00"}
{"run_id": "20260111_082017293136_A817_001", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T08:24:35.075135+00:00"}
{"run_id": "20260111_082017293136_A817_001", "phase": "run_summary", "status": "ok", "message": "Run summary inserted", "overall_status": "ok", "ts": "2026-01-11T08:24:35.104414+00:00"}
{"run_id": "20260111_082017293136_A817_001", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A817", "window_index": 1, "window_status": "success", "ts": "2026-01-11T08:24:44.056102+00:00"}
{"run_id": "20260111_082017293136", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A817", "from_date": "2025-08-06", "to_date": "2025-11-03", "window_index": 2, "ts": "2026-01-11T08:24:44.056217+00:00"}
{"run_id": "20260111_082017293136_A817_002", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T08:24:44.056630+00:00"}
{"run_id": "20260111_082017293136_A817_002", "phase": "run_summary", "status": "error", "message": "Failed to start run summary", "error": "(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"total_time_taken\" of relation \"pipeline_run_summaries\" violates not-null constraint\nDETAIL:  Failing row contains (243, td_orders_sync, 20260111_082017293136_A817_002, dev, 2026-01-11 13:54:44.056684+05:30, 2026-01-11 13:54:44.056684+05:30, null, 2025-08-06, running, Run started., {}, {}, 2026-01-11 13:54:44.059007+05:30).\n[SQL: INSERT INTO pipeline_run_summaries (pipeline_name, run_id, run_env, started_at, finished_at, report_date, overall_status, summary_text, phases_json, metrics_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::DATE, $7::VARCHAR, $8::VARCHAR, $9::JSONB, $10::JSONB)]\n[parameters: ('td_orders_sync', '20260111_082017293136_A817_002', 'dev', datetime.datetime(2026, 1, 11, 8, 24, 44, 56684, tzinfo=datetime.timezone.utc), datetime.datetime(2026, 1, 11, 8, 24, 44, 56684, tzinfo=datetime.timezone.utc), datetime.date(2025, 8, 6), 'running', 'Run started.', '{}', '{}')]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "ts": "2026-01-11T08:24:44.060128+00:00"}
{"run_id": "20260111_082017293136_A817_002", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-08-06", "to_date": "2025-11-03", "ts": "2026-01-11T08:24:44.060279+00:00"}
{"run_id": "20260111_082017293136_A817_002", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T08:24:44.060356+00:00"}
{"run_id": "20260111_082017293136_A817_002", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A817"], "skipped_stores": null, "ts": "2026-01-11T08:24:44.064028+00:00"}
{"run_id": "20260111_082017293136_A817_002", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A817"], "ts": "2026-01-11T08:24:44.064132+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "sales_ingest", "status": "ok", "message": "TD Sales workbook ingested", "staging_rows": 371, "final_rows": 371, "ts": "2026-01-11T08:24:44.151055+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250301_20250529.xlsx", "ts": "2026-01-11T08:24:44.151535+00:00"}
{"run_id": "20260111_082017293136_A668_001", "store_code": "A668", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T08:24:44.151667+00:00"}
{"run_id": "20260111_082017293136_A668_001", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T08:24:44.462266+00:00"}
{"run_id": "20260111_082017293136_A668_001", "phase": "run_summary", "status": "ok", "message": "Run summary inserted", "overall_status": "ok", "ts": "2026-01-11T08:24:44.519010+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "filters", "status": "warn", "message": "Date picker popup not visible after clicking input", "store_code": "UC610", "selector": ".calendar-body.show, .calendar-body .calendar", "ts": "2026-01-11T08:24:54.603795+00:00"}
{"run_id": "20260111_082017293136_A817_002", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T08:24:54.611592+00:00"}
{"run_id": "20260111_082017293136_A668_001", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A668", "window_index": 1, "window_status": "success", "ts": "2026-01-11T08:24:54.627289+00:00"}
{"run_id": "20260111_082017293136", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A668", "from_date": "2025-05-28", "to_date": "2025-08-25", "window_index": 2, "ts": "2026-01-11T08:24:54.627430+00:00"}
{"run_id": "20260111_082017293136_A668_002", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T08:24:54.627957+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "filters", "status": "warn", "message": "No fallback calendar days available", "store_code": "UC610", "calendar_label": "start", "target_date": "2025-08-07", "ts": "2026-01-11T08:24:54.633425+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "filters", "status": "warn", "message": "Target day not found after retry and fallbacks", "store_code": "UC610", "calendar_label": "start", "target_day": 7, "target_month": "AUG 2025", "ts": "2026-01-11T08:24:54.633503+00:00"}
{"run_id": "20260111_082017293136_A668_002", "phase": "run_summary", "status": "error", "message": "Failed to start run summary", "error": "(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"total_time_taken\" of relation \"pipeline_run_summaries\" violates not-null constraint\nDETAIL:  Failing row contains (245, td_orders_sync, 20260111_082017293136_A668_002, dev, 2026-01-11 13:54:54.628032+05:30, 2026-01-11 13:54:54.628032+05:30, null, 2025-05-28, running, Run started., {}, {}, 2026-01-11 13:54:54.633117+05:30).\n[SQL: INSERT INTO pipeline_run_summaries (pipeline_name, run_id, run_env, started_at, finished_at, report_date, overall_status, summary_text, phases_json, metrics_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::DATE, $7::VARCHAR, $8::VARCHAR, $9::JSONB, $10::JSONB)]\n[parameters: ('td_orders_sync', '20260111_082017293136_A668_002', 'dev', datetime.datetime(2026, 1, 11, 8, 24, 54, 628032, tzinfo=datetime.timezone.utc), datetime.datetime(2026, 1, 11, 8, 24, 54, 628032, tzinfo=datetime.timezone.utc), datetime.date(2025, 5, 28), 'running', 'Run started.', '{}', '{}')]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "ts": "2026-01-11T08:24:54.636939+00:00"}
{"run_id": "20260111_082017293136_A668_002", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-05-28", "to_date": "2025-08-25", "ts": "2026-01-11T08:24:54.637170+00:00"}
{"run_id": "20260111_082017293136_A668_002", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T08:24:54.637253+00:00"}
{"run_id": "20260111_082017293136_A668_002", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A668"], "skipped_stores": null, "ts": "2026-01-11T08:24:54.647591+00:00"}
{"run_id": "20260111_082017293136_A668_002", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A668"], "ts": "2026-01-11T08:24:54.647673+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "filters", "status": "warn", "message": "Unable to parse calendar header", "store_code": "UC610", "calendar_label": "end", "header_text": null, "ts": "2026-01-11T08:24:54.680995+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "filters", "status": "warn", "message": "Date range selection incomplete", "store_code": "UC610", "start_date": "2025-08-07", "end_date": "2025-11-04", "start_ok": false, "end_ok": false, "ts": "2026-01-11T08:24:54.681180+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "filters", "status": "warn", "message": "Date range apply incomplete; skipping export", "store_code": "UC610", "from_date": "2025-08-07", "to_date": "2025-11-04", "ts": "2026-01-11T08:24:54.681248+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-08-06", "to_date": "2025-11-03", "ts": "2026-01-11T08:24:55.198005+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "orders_sync_log", "status": "warn", "message": "Skipping orders sync log insert because run summary row is missing", "ts": "2026-01-11T08:24:55.218255+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "notifications", "status": "ok", "message": "UC orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T08:24:55.294729+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "run_summary", "status": "ok", "message": "Run summary inserted", "overall_status": "warning", "ts": "2026-01-11T08:24:55.311472+00:00"}
{"run_id": "20260111_082017293136_A668_002", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T08:25:03.949605+00:00"}
{"run_id": "20260111_082017293136_UC610_002", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "UC610", "window_index": 2, "window_status": "partial", "ts": "2026-01-11T08:25:03.953663+00:00"}
{"run_id": "20260111_082017293136", "phase": "window", "status": "warn", "message": "Stopping further windows after non-success status", "store_code": "UC610", "window_index": 2, "window_status": "partial", "ts": "2026-01-11T08:25:03.953825+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "ts": "2026-01-11T08:25:04.249306+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-05-28", "to_date": "2025-08-25", "ts": "2026-01-11T08:25:04.563859+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "orders_sync_log", "status": "warn", "message": "Skipping orders sync log insert because run summary row is missing", "ts": "2026-01-11T08:25:04.587857+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "ts": "2026-01-11T08:25:05.480138+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T08:25:10.053923+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T08:25:10.054124+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T08:25:11.159428+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T08:25:11.159627+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T08:25:11.159767+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T08:25:11.261370+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T08:25:11.261529+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T08:25:12.256560+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T08:25:12.256725+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T08:25:12.256834+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T08:25:13.000872+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T08:25:13.001275+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "verification_seen": false, "ts": "2026-01-11T08:25:13.041674+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T08:25:13.080000+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T08:25:13.998968+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T08:25:13.999418+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "verification_seen": false, "ts": "2026-01-11T08:25:14.033518+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "session", "status": "ok", "message": "Persisted storage state for A817 after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "session_reused": true, "refreshed": true, "ts": "2026-01-11T08:25:14.033787+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T08:25:14.068675+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T08:25:48.111286+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T08:25:49.107117+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:14", "ts": "2026-01-11T08:25:49.259033+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:14", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T08:25:49.259631+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:14", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T08:25:49.306848+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:25:49.307172+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:13", "ts": "2026-01-11T08:25:50.156624+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:13", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T08:25:50.156920+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:13", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T08:25:50.207716+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:25:50.207898+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T08:25:51.494108+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T08:25:51.494229+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T08:25:52.197866+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T08:25:52.197998+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-05-28", "to_value": "2025-08-25", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "May 28, 2025 - Aug 25, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:25:53.525289+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 435, "ts": "2026-01-11T08:25:54.090178+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:25:54.186797+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:25:54.186955+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:25:54.237047+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-08-06", "to_value": "2025-11-03", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Aug 6, 2025 - Nov 3, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:25:54.293415+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 394, "ts": "2026-01-11T08:25:54.789068+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:25:54.877556+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:25:54.877667+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:25:54.920264+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 28 May 2025 - 25 Aug 2025 11 Jan 2026 01:55 PM Download", "expected_range_texts": ["May 28, 2025 - Aug 25, 2025", "28 May 2025 - 25 Aug 2025", "May 28 2025 - Aug 25 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:27:24.988499+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Extended report request poll window to ETA", "eta_seconds": 1680, "pending_eta_seconds": null, "new_timeout_ms": 1680000, "range_match_strategy": "date_range_text_pattern", "ts": "2026-01-11T08:27:24.989461+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 28 May 2025 - 25 Aug 2025 11 Jan 2026 01:55 PM Download", "expected_range_texts": ["May 28, 2025 - Aug 25, 2025", "28 May 2025 - 25 Aug 2025", "May 28 2025 - Aug 25 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:27:24.989536+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 06 Aug 2025 - 03 Nov 2025 11 Jan 2026 01:55 PM Download", "expected_range_texts": ["Aug 6, 2025 - Nov 3, 2025", "06 Aug 2025 - 03 Nov 2025", "Aug 06, 2025 - Nov 03, 2025", "Aug 06 2025 - Nov 03 2025", "06 Aug 2025 - 3 Nov 2025", "Aug 06, 2025 - Nov 3, 2025", "Aug 06 2025 - Nov 3 2025", "6 Aug 2025 - 03 Nov 2025", "Aug 6, 2025 - Nov 03, 2025", "Aug 6 2025 - Nov 03 2025", "6 Aug 2025 - 3 Nov 2025", "Aug 6 2025 - Nov 3 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:27:25.683032+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 06 Aug 2025 - 03 Nov 2025 11 Jan 2026 01:55 PM Download", "expected_range_texts": ["Aug 6, 2025 - Nov 3, 2025", "06 Aug 2025 - 03 Nov 2025", "Aug 06, 2025 - Nov 03, 2025", "Aug 06 2025 - Nov 03 2025", "06 Aug 2025 - 3 Nov 2025", "Aug 06, 2025 - Nov 3, 2025", "Aug 06 2025 - Nov 3 2025", "6 Aug 2025 - 03 Nov 2025", "Aug 6, 2025 - Nov 03, 2025", "Aug 6 2025 - Nov 03 2025", "6 Aug 2025 - 3 Nov 2025", "Aug 6 2025 - Nov 3 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:27:25.683395+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250528_20250825.xlsx", "suggested_filename": "1170-LBSrNqYZ_Rvs4vww5Qh4z.xlsx", "expected_range_texts": ["May 28, 2025 - Aug 25, 2025", "28 May 2025 - 25 Aug 2025", "May 28 2025 - Aug 25 2025"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:27:25.786221+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20250806_20251103.xlsx", "suggested_filename": "1247-dCLvRhEG0d0gUivY7QzJF.xlsx", "expected_range_texts": ["Aug 6, 2025 - Nov 3, 2025", "06 Aug 2025 - 03 Nov 2025", "Aug 06, 2025 - Nov 03, 2025", "Aug 06 2025 - Nov 03 2025", "06 Aug 2025 - 3 Nov 2025", "Aug 06, 2025 - Nov 3, 2025", "Aug 06 2025 - Nov 3 2025", "6 Aug 2025 - 03 Nov 2025", "Aug 6, 2025 - Nov 03, 2025", "Aug 6 2025 - Nov 03 2025", "6 Aug 2025 - 3 Nov 2025", "Aug 6 2025 - Nov 3 2025"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:27:26.868754+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "ingest", "status": "ok", "message": "TD Orders workbook ingested", "staging_rows": 528, "final_rows": 528, "ts": "2026-01-11T08:27:33.728380+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:14", "ts": "2026-01-11T08:27:33.728673+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T08:27:33.886268+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T08:27:33.902048+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "ingest", "status": "ok", "message": "TD Orders workbook ingested", "staging_rows": 471, "final_rows": 471, "ts": "2026-01-11T08:27:33.937754+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:13", "ts": "2026-01-11T08:27:33.938077+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T08:27:34.044621+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T08:27:34.057101+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:48:657", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:14"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:14"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:14"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:48:657"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:48:657"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T08:27:34.568555+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:48:657", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:48:657", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:14"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:14"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:14"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:48:657"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:48:657"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T08:27:34.568841+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:48:657", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T08:27:34.579445+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:48:657", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T08:27:34.741326+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:27:34.741493+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:49:647", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:13"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:13"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:13"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:49:647"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:49:647"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T08:27:34.746503+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:49:647", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:49:647", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:13"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:13"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:55:13"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:49:647"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:49:647"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T08:27:34.746692+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:49:647", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T08:27:34.753389+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2013:55:49:647", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T08:27:34.898695+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:27:34.899013+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe_preflight", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T08:27:35.284851+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe_preflight", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T08:27:35.443543+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-05-28", "to_value": "2025-08-25", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "May 28, 2025 - Aug 25, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:27:42.582448+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-08-06", "to_value": "2025-11-03", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Aug 6, 2025 - Nov 3, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:27:42.821159+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 402, "ts": "2026-01-11T08:27:43.103659+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:27:43.191265+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:27:43.191370+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:27:43.234864+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 388, "ts": "2026-01-11T08:27:43.337236+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:27:43.431904+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:27:43.432031+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:27:43.487360+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 28 May 2025 - 25 Aug 2025 11 Jan 2026 01:57 PM Download", "expected_range_texts": ["May 28, 2025 - Aug 25, 2025", "28 May 2025 - 25 Aug 2025", "May 28 2025 - Aug 25 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:29:14.014859+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Extended report request poll window to ETA", "eta_seconds": 1680, "pending_eta_seconds": null, "new_timeout_ms": 1680000, "range_match_strategy": "date_range_text_pattern", "ts": "2026-01-11T08:29:14.015737+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 28 May 2025 - 25 Aug 2025 11 Jan 2026 01:57 PM Download", "expected_range_texts": ["May 28, 2025 - Aug 25, 2025", "28 May 2025 - 25 Aug 2025", "May 28 2025 - Aug 25 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:29:14.015810+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 06 Aug 2025 - 03 Nov 2025 11 Jan 2026 01:57 PM Download", "expected_range_texts": ["Aug 6, 2025 - Nov 3, 2025", "06 Aug 2025 - 03 Nov 2025", "Aug 06, 2025 - Nov 03, 2025", "Aug 06 2025 - Nov 03 2025", "06 Aug 2025 - 3 Nov 2025", "Aug 06, 2025 - Nov 3, 2025", "Aug 06 2025 - Nov 3 2025", "6 Aug 2025 - 03 Nov 2025", "Aug 6, 2025 - Nov 03, 2025", "Aug 6 2025 - Nov 03 2025", "6 Aug 2025 - 3 Nov 2025", "Aug 6 2025 - Nov 3 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:29:14.247608+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 06 Aug 2025 - 03 Nov 2025 11 Jan 2026 01:57 PM Download", "expected_range_texts": ["Aug 6, 2025 - Nov 3, 2025", "06 Aug 2025 - 03 Nov 2025", "Aug 06, 2025 - Nov 03, 2025", "Aug 06 2025 - Nov 03 2025", "06 Aug 2025 - 3 Nov 2025", "Aug 06, 2025 - Nov 3, 2025", "Aug 06 2025 - Nov 3 2025", "6 Aug 2025 - 03 Nov 2025", "Aug 6, 2025 - Nov 03, 2025", "Aug 6 2025 - Nov 03 2025", "6 Aug 2025 - 3 Nov 2025", "Aug 6 2025 - Nov 3 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:29:14.247767+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250528_20250825.xlsx", "suggested_filename": "1170-mdHyTi6_nrp_U0HI2AWzK.xlsx", "expected_range_texts": ["May 28, 2025 - Aug 25, 2025", "28 May 2025 - 25 Aug 2025", "May 28 2025 - Aug 25 2025"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:29:14.786030+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250528_20250825.xlsx", "ts": "2026-01-11T08:29:14.786144+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20250806_20251103.xlsx", "suggested_filename": "1247-vYQlpa_wQLhAEWwYXLARq.xlsx", "expected_range_texts": ["Aug 6, 2025 - Nov 3, 2025", "06 Aug 2025 - 03 Nov 2025", "Aug 06, 2025 - Nov 03, 2025", "Aug 06 2025 - Nov 03 2025", "06 Aug 2025 - 3 Nov 2025", "Aug 06, 2025 - Nov 3, 2025", "Aug 06 2025 - Nov 3 2025", "6 Aug 2025 - 03 Nov 2025", "Aug 6, 2025 - Nov 03, 2025", "Aug 6 2025 - Nov 03 2025", "6 Aug 2025 - 3 Nov 2025", "Aug 6 2025 - Nov 3 2025"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:29:15.311731+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20250806_20251103.xlsx", "ts": "2026-01-11T08:29:15.311863+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "sales_ingest", "status": "ok", "message": "TD Sales workbook ingested", "staging_rows": 420, "final_rows": 420, "ts": "2026-01-11T08:29:18.972061+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20250806_20251103.xlsx", "ts": "2026-01-11T08:29:18.972338+00:00"}
{"run_id": "20260111_082017293136_A817_002", "store_code": "A817", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T08:29:18.972452+00:00"}
{"run_id": "20260111_082017293136_A817_002", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T08:29:19.282375+00:00"}
{"run_id": "20260111_082017293136_A817_002", "phase": "run_summary", "status": "ok", "message": "Run summary inserted", "overall_status": "ok", "ts": "2026-01-11T08:29:19.315520+00:00"}
{"run_id": "20260111_082017293136_A817_002", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A817", "window_index": 2, "window_status": "success", "ts": "2026-01-11T08:29:28.149632+00:00"}
{"run_id": "20260111_082017293136", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A817", "from_date": "2025-11-02", "to_date": "2026-01-11", "window_index": 3, "ts": "2026-01-11T08:29:28.149749+00:00"}
{"run_id": "20260111_082017293136_A817_003", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T08:29:28.150211+00:00"}
{"run_id": "20260111_082017293136_A817_003", "phase": "run_summary", "status": "error", "message": "Failed to start run summary", "error": "(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"total_time_taken\" of relation \"pipeline_run_summaries\" violates not-null constraint\nDETAIL:  Failing row contains (249, td_orders_sync, 20260111_082017293136_A817_003, dev, 2026-01-11 13:59:28.150265+05:30, 2026-01-11 13:59:28.150265+05:30, null, 2025-11-02, running, Run started., {}, {}, 2026-01-11 13:59:28.1585+05:30).\n[SQL: INSERT INTO pipeline_run_summaries (pipeline_name, run_id, run_env, started_at, finished_at, report_date, overall_status, summary_text, phases_json, metrics_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::DATE, $7::VARCHAR, $8::VARCHAR, $9::JSONB, $10::JSONB)]\n[parameters: ('td_orders_sync', '20260111_082017293136_A817_003', 'dev', datetime.datetime(2026, 1, 11, 8, 29, 28, 150265, tzinfo=datetime.timezone.utc), datetime.datetime(2026, 1, 11, 8, 29, 28, 150265, tzinfo=datetime.timezone.utc), datetime.date(2025, 11, 2), 'running', 'Run started.', '{}', '{}')]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "ts": "2026-01-11T08:29:28.165867+00:00"}
{"run_id": "20260111_082017293136_A817_003", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-11-02", "to_date": "2026-01-11", "ts": "2026-01-11T08:29:28.166080+00:00"}
{"run_id": "20260111_082017293136_A817_003", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T08:29:28.166189+00:00"}
{"run_id": "20260111_082017293136_A817_003", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A817"], "skipped_stores": null, "ts": "2026-01-11T08:29:28.180495+00:00"}
{"run_id": "20260111_082017293136_A817_003", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A817"], "ts": "2026-01-11T08:29:28.180618+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "sales_ingest", "status": "ok", "message": "TD Sales workbook ingested", "staging_rows": 564, "final_rows": 564, "ts": "2026-01-11T08:29:28.354221+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250528_20250825.xlsx", "ts": "2026-01-11T08:29:28.354582+00:00"}
{"run_id": "20260111_082017293136_A668_002", "store_code": "A668", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T08:29:28.354678+00:00"}
{"run_id": "20260111_082017293136_A668_002", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T08:29:28.656011+00:00"}
{"run_id": "20260111_082017293136_A668_002", "phase": "run_summary", "status": "ok", "message": "Run summary inserted", "overall_status": "ok", "ts": "2026-01-11T08:29:28.712607+00:00"}
{"run_id": "20260111_082017293136_A817_003", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T08:29:38.437802+00:00"}
{"run_id": "20260111_082017293136_A668_002", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A668", "window_index": 2, "window_status": "success", "ts": "2026-01-11T08:29:38.449082+00:00"}
{"run_id": "20260111_082017293136", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A668", "from_date": "2025-08-24", "to_date": "2025-11-21", "window_index": 3, "ts": "2026-01-11T08:29:38.449214+00:00"}
{"run_id": "20260111_082017293136_A668_003", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T08:29:38.449600+00:00"}
{"run_id": "20260111_082017293136_A668_003", "phase": "run_summary", "status": "error", "message": "Failed to start run summary", "error": "(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"total_time_taken\" of relation \"pipeline_run_summaries\" violates not-null constraint\nDETAIL:  Failing row contains (251, td_orders_sync, 20260111_082017293136_A668_003, dev, 2026-01-11 13:59:38.449693+05:30, 2026-01-11 13:59:38.449693+05:30, null, 2025-08-24, running, Run started., {}, {}, 2026-01-11 13:59:38.451726+05:30).\n[SQL: INSERT INTO pipeline_run_summaries (pipeline_name, run_id, run_env, started_at, finished_at, report_date, overall_status, summary_text, phases_json, metrics_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::DATE, $7::VARCHAR, $8::VARCHAR, $9::JSONB, $10::JSONB)]\n[parameters: ('td_orders_sync', '20260111_082017293136_A668_003', 'dev', datetime.datetime(2026, 1, 11, 8, 29, 38, 449693, tzinfo=datetime.timezone.utc), datetime.datetime(2026, 1, 11, 8, 29, 38, 449693, tzinfo=datetime.timezone.utc), datetime.date(2025, 8, 24), 'running', 'Run started.', '{}', '{}')]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "ts": "2026-01-11T08:29:38.452838+00:00"}
{"run_id": "20260111_082017293136_A668_003", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-08-24", "to_date": "2025-11-21", "ts": "2026-01-11T08:29:38.453003+00:00"}
{"run_id": "20260111_082017293136_A668_003", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T08:29:38.453064+00:00"}
{"run_id": "20260111_082017293136_A668_003", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A668"], "skipped_stores": null, "ts": "2026-01-11T08:29:38.456303+00:00"}
{"run_id": "20260111_082017293136_A668_003", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A668"], "ts": "2026-01-11T08:29:38.456368+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-11-02", "to_date": "2026-01-11", "ts": "2026-01-11T08:29:38.982758+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "orders_sync_log", "status": "warn", "message": "Skipping orders sync log insert because run summary row is missing", "ts": "2026-01-11T08:29:39.009265+00:00"}
{"run_id": "20260111_082017293136_A668_003", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T08:29:39.030426+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-08-24", "to_date": "2025-11-21", "ts": "2026-01-11T08:29:39.578979+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "orders_sync_log", "status": "warn", "message": "Skipping orders sync log insert because run summary row is missing", "ts": "2026-01-11T08:29:39.632981+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "ts": "2026-01-11T08:29:40.016987+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "ts": "2026-01-11T08:29:40.445515+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T08:29:45.738714+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T08:29:45.738926+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T08:29:46.055938+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T08:29:46.056143+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T08:29:47.033843+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T08:29:47.033999+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T08:29:47.034102+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T08:29:47.134514+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T08:29:47.134907+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T08:29:47.135499+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T08:29:47.930651+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T08:29:47.931673+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "verification_seen": false, "ts": "2026-01-11T08:29:47.970694+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T08:29:48.006468+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T08:29:49.384961+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T08:29:49.385130+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "verification_seen": false, "ts": "2026-01-11T08:29:49.396640+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "session", "status": "ok", "message": "Persisted storage state for A817 after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "session_reused": true, "refreshed": true, "ts": "2026-01-11T08:29:49.396755+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T08:29:49.436515+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T08:30:23.042553+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T08:30:24.467996+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:48", "ts": "2026-01-11T08:30:29.649892+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:48", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T08:30:29.650009+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:48", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T08:30:29.680765+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:30:29.680981+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:54", "ts": "2026-01-11T08:30:30.056456+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:54", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T08:30:30.056628+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:54", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T08:30:30.137752+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:30:30.138330+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T08:30:31.712362+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T08:30:31.712529+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T08:30:31.785893+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T08:30:31.785999+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-08-24", "to_value": "2025-11-21", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Aug 24, 2025 - Nov 21, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:30:33.945619+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-11-02", "to_value": "2026-01-11", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Nov 2, 2025 - Jan 11, 2026", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:30:34.083361+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 420, "ts": "2026-01-11T08:30:34.474206+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:30:34.563196+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:30:34.563316+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:30:34.606970+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 431, "ts": "2026-01-11T08:30:34.672469+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:30:34.765308+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:30:34.765390+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:30:34.809896+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 24 Aug 2025 - 21 Nov 2025 11 Jan 2026 02:00 PM Download", "expected_range_texts": ["Aug 24, 2025 - Nov 21, 2025", "24 Aug 2025 - 21 Nov 2025", "Aug 24 2025 - Nov 21 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:32:05.549087+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 24 Aug 2025 - 21 Nov 2025 11 Jan 2026 02:00 PM Download", "expected_range_texts": ["Aug 24, 2025 - Nov 21, 2025", "24 Aug 2025 - 21 Nov 2025", "Aug 24 2025 - Nov 21 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:32:05.549223+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 02 Nov 2025 - 11 Jan 2026 11 Jan 2026 02:00 PM Download", "expected_range_texts": ["Nov 2, 2025 - Jan 11, 2026", "02 Nov 2025 - 11 Jan 2026", "Nov 02, 2025 - Jan 11, 2026", "Nov 02 2025 - Jan 11 2026", "2 Nov 2025 - 11 Jan 2026", "Nov 2 2025 - Jan 11 2026"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:32:05.669534+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 02 Nov 2025 - 11 Jan 2026 11 Jan 2026 02:00 PM Download", "expected_range_texts": ["Nov 2, 2025 - Jan 11, 2026", "02 Nov 2025 - 11 Jan 2026", "Nov 02, 2025 - Jan 11, 2026", "Nov 02 2025 - Jan 11 2026", "2 Nov 2025 - 11 Jan 2026", "Nov 2 2025 - Jan 11 2026"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:32:05.669689+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20251102_20260111.xlsx", "suggested_filename": "1247-nB77g_vL_NSbrWelGes60.xlsx", "expected_range_texts": ["Nov 2, 2025 - Jan 11, 2026", "02 Nov 2025 - 11 Jan 2026", "Nov 02, 2025 - Jan 11, 2026", "Nov 02 2025 - Jan 11 2026", "2 Nov 2025 - 11 Jan 2026", "Nov 2 2025 - Jan 11 2026"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:32:07.181889+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250824_20251121.xlsx", "suggested_filename": "1170-335bGNcK2tYNEVWi5sCoS.xlsx", "expected_range_texts": ["Aug 24, 2025 - Nov 21, 2025", "24 Aug 2025 - 21 Nov 2025", "Aug 24 2025 - Nov 21 2025"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:32:07.609383+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "ingest", "status": "warn", "message": "TD Orders workbook ingested with warnings", "warning_count": 2, "warning_samples": ["Invalid phone number dropped: A817--7461", "Invalid phone number dropped: 18409065"], "warnings_truncated": false, "staging_rows": 573, "final_rows": 573, "ts": "2026-01-11T08:32:16.095709+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:54", "ts": "2026-01-11T08:32:16.096020+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T08:32:16.235722+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T08:32:16.248631+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "ingest", "status": "warn", "message": "TD Orders workbook ingested with warnings", "warning_count": 1, "warning_samples": ["Invalid phone number dropped: A668--7051"], "warnings_truncated": false, "staging_rows": 633, "final_rows": 633, "ts": "2026-01-11T08:32:16.639082+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:48", "ts": "2026-01-11T08:32:16.639387+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T08:32:16.807905+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T08:32:16.823141+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:967", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:54"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:54"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:54"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:967"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:967"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T08:32:16.843393+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:967", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:967", "target_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:54"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:54"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:54"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:967"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:967"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T08:32:16.843913+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:967", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T08:32:16.849666+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a817/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:967", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T08:32:16.908636+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:32:16.908849+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:743", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:48"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:48"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:48"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:743"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:743"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T08:32:17.782305+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:743", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:743", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:48"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:48"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2013:59:48"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:743"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:743"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T08:32:17.782617+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:743", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T08:32:17.789493+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:00:26:743", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T08:32:17.829875+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:32:17.830021+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-11-02", "to_value": "2026-01-11", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Nov 2, 2025 - Jan 11, 2026", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:32:24.214153+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 444, "ts": "2026-01-11T08:32:24.789027+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:32:24.904533+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:32:24.904671+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:32:24.953827+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-08-24", "to_value": "2025-11-21", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Aug 24, 2025 - Nov 21, 2025", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:32:25.029798+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 385, "ts": "2026-01-11T08:32:25.529425+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:32:25.607823+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:32:25.607943+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:32:25.650508+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 02 Nov 2025 - 11 Jan 2026 11 Jan 2026 02:02 PM Download", "expected_range_texts": ["Nov 2, 2025 - Jan 11, 2026", "02 Nov 2025 - 11 Jan 2026", "Nov 02, 2025 - Jan 11, 2026", "Nov 02 2025 - Jan 11 2026", "2 Nov 2025 - 11 Jan 2026", "Nov 2 2025 - Jan 11 2026"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:33:55.840414+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 02 Nov 2025 - 11 Jan 2026 11 Jan 2026 02:02 PM Download", "expected_range_texts": ["Nov 2, 2025 - Jan 11, 2026", "02 Nov 2025 - 11 Jan 2026", "Nov 02, 2025 - Jan 11, 2026", "Nov 02 2025 - Jan 11 2026", "2 Nov 2025 - 11 Jan 2026", "Nov 2 2025 - Jan 11 2026"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:33:55.841356+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 24 Aug 2025 - 21 Nov 2025 11 Jan 2026 02:02 PM Download", "expected_range_texts": ["Aug 24, 2025 - Nov 21, 2025", "24 Aug 2025 - 21 Nov 2025", "Aug 24 2025 - Nov 21 2025"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:33:56.520599+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 24 Aug 2025 - 21 Nov 2025 11 Jan 2026 02:02 PM Download", "expected_range_texts": ["Aug 24, 2025 - Nov 21, 2025", "24 Aug 2025 - 21 Nov 2025", "Aug 24 2025 - Nov 21 2025"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:33:56.520740+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20251102_20260111.xlsx", "suggested_filename": "1247-0z4DkoIS32y-RLmpZQZyD.xlsx", "expected_range_texts": ["Nov 2, 2025 - Jan 11, 2026", "02 Nov 2025 - 11 Jan 2026", "Nov 02, 2025 - Jan 11, 2026", "Nov 02 2025 - Jan 11 2026", "2 Nov 2025 - 11 Jan 2026", "Nov 2 2025 - Jan 11 2026"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:33:56.781687+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_sales_20251102_20260111.xlsx", "ts": "2026-01-11T08:33:56.781822+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250824_20251121.xlsx", "suggested_filename": "1170-DGVcUZG8yxuFYKN3k8wHw.xlsx", "expected_range_texts": ["Aug 24, 2025 - Nov 21, 2025", "24 Aug 2025 - 21 Nov 2025", "Aug 24 2025 - Nov 21 2025"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:33:57.314780+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20250824_20251121.xlsx", "ts": "2026-01-11T08:33:57.315148+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "sales_ingest", "status": "ok", "message": "TD Sales workbook ingested", "staging_rows": 658, "final_rows": 658, "ts": "2026-01-11T08:34:03.190383+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20250824_20251121.xlsx", "ts": "2026-01-11T08:34:03.190720+00:00"}
{"run_id": "20260111_082017293136_A668_003", "store_code": "A668", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T08:34:03.190801+00:00"}
{"run_id": "20260111_082017293136_A668_003", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T08:34:03.602089+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "sales_ingest", "status": "warn", "message": "TD Sales workbook ingested with warnings", "warning_count": 2, "warning_samples": ["Invalid phone number dropped: A817--7461", "Invalid phone number dropped: 18409065"], "warnings_truncated": false, "staging_rows": 737, "final_rows": 737, "ts": "2026-01-11T08:34:03.631151+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A817_td_orders_20251102_20260111.xlsx", "ts": "2026-01-11T08:34:03.631452+00:00"}
{"run_id": "20260111_082017293136_A817_003", "store_code": "A817", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T08:34:03.631530+00:00"}
{"run_id": "20260111_082017293136_A668_003", "phase": "run_summary", "status": "ok", "message": "Run summary inserted", "overall_status": "ok", "ts": "2026-01-11T08:34:03.641504+00:00"}
{"run_id": "20260111_082017293136_A668_003", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A668", "window_index": 3, "window_status": "success", "ts": "2026-01-11T08:34:12.522862+00:00"}
{"run_id": "20260111_082017293136", "phase": "window", "status": "ok", "message": "Running orders sync window", "store_code": "A668", "from_date": "2025-11-20", "to_date": "2026-01-11", "window_index": 4, "ts": "2026-01-11T08:34:12.523150+00:00"}
{"run_id": "20260111_082017293136_A668_004", "phase": "logger", "status": "ok", "message": "Initialized JSON logger", "log_file_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/logs/simplify_downloader.jsonl", "log_file_source": "env:JSON_LOG_FILE", "ts": "2026-01-11T08:34:12.523544+00:00"}
{"run_id": "20260111_082017293136_A668_004", "phase": "run_summary", "status": "error", "message": "Failed to start run summary", "error": "(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column \"total_time_taken\" of relation \"pipeline_run_summaries\" violates not-null constraint\nDETAIL:  Failing row contains (253, td_orders_sync, 20260111_082017293136_A668_004, dev, 2026-01-11 14:04:12.523605+05:30, 2026-01-11 14:04:12.523605+05:30, null, 2025-11-20, running, Run started., {}, {}, 2026-01-11 14:04:12.525736+05:30).\n[SQL: INSERT INTO pipeline_run_summaries (pipeline_name, run_id, run_env, started_at, finished_at, report_date, overall_status, summary_text, phases_json, metrics_json) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::DATE, $7::VARCHAR, $8::VARCHAR, $9::JSONB, $10::JSONB)]\n[parameters: ('td_orders_sync', '20260111_082017293136_A668_004', 'dev', datetime.datetime(2026, 1, 11, 8, 34, 12, 523605, tzinfo=datetime.timezone.utc), datetime.datetime(2026, 1, 11, 8, 34, 12, 523605, tzinfo=datetime.timezone.utc), datetime.date(2025, 11, 20), 'running', 'Run started.', '{}', '{}')]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "ts": "2026-01-11T08:34:12.527106+00:00"}
{"run_id": "20260111_082017293136_A668_004", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-11-20", "to_date": "2026-01-11", "ts": "2026-01-11T08:34:12.527715+00:00"}
{"run_id": "20260111_082017293136_A668_004", "phase": "init", "status": "ok", "message": "Pipeline DOM logging configuration", "pipeline_skip_dom_logging": true, "ts": "2026-01-11T08:34:12.527794+00:00"}
{"run_id": "20260111_082017293136_A668_004", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A668"], "skipped_stores": null, "ts": "2026-01-11T08:34:12.531702+00:00"}
{"run_id": "20260111_082017293136_A668_004", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 1, "stores": ["A668"], "ts": "2026-01-11T08:34:12.531811+00:00"}
{"run_id": "20260111_082017293136_A817_003", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T08:34:13.015422+00:00"}
{"run_id": "20260111_082017293136_A668_004", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-11T08:34:13.163225+00:00"}
{"run_id": "20260111_082017293136_A817_003", "phase": "run_summary", "status": "ok", "message": "Run summary inserted", "overall_status": "ok", "ts": "2026-01-11T08:34:13.181965+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-11-20", "to_date": "2026-01-11", "ts": "2026-01-11T08:34:22.121671+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "orders_sync_log", "status": "warn", "message": "Skipping orders sync log insert because run summary row is missing", "ts": "2026-01-11T08:34:22.124997+00:00"}
{"run_id": "20260111_082017293136_A817_003", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A817", "window_index": 3, "window_status": "success", "ts": "2026-01-11T08:34:22.138182+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "ts": "2026-01-11T08:34:22.864528+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-11T08:34:28.472406+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-11T08:34:28.472587+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-11T08:34:29.409395+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-11T08:34:29.409603+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-11T08:34:29.409857+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-11T08:34:31.269287+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "home", "status": "ok", "message": "Navigation controls snapshot skipped because DOM logging is disabled", "ts": "2026-01-11T08:34:31.269652+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "verification_seen": false, "ts": "2026-01-11T08:34:31.309299+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "locator_strategy": "reports_nav_selector", "initial_probe": true, "ts": "2026-01-11T08:34:31.347428+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Nav root missing; proceeding with direct click", "nav_root_visible": false, "attempt": 1, "ts": "2026-01-11T08:35:06.383211+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2014:4:32", "ts": "2026-01-11T08:35:07.221946+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2014:4:32", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-11T08:35:07.222110+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2014:4:32", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-11T08:35:07.253096+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:35:07.253225+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe_expand", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T08:35:08.850261+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-11T08:35:08.850371+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-11-20", "to_value": "2026-01-11", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Nov 20, 2025 - Jan 11, 2026", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:35:10.659497+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 399, "ts": "2026-01-11T08:35:11.156484+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:35:11.248127+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:35:11.248240+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:35:11.291849+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 20 Nov 2025 - 11 Jan 2026 11 Jan 2026 02:05 PM Download", "expected_range_texts": ["Nov 20, 2025 - Jan 11, 2026", "20 Nov 2025 - 11 Jan 2026", "Nov 20 2025 - Jan 11 2026"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:36:42.230458+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 20 Nov 2025 - 11 Jan 2026 11 Jan 2026 02:05 PM Download", "expected_range_texts": ["Nov 20, 2025 - Jan 11, 2026", "20 Nov 2025 - 11 Jan 2026", "Nov 20 2025 - Jan 11 2026"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:36:42.230625+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20251120_20260111.xlsx", "suggested_filename": "1170-R-NlQAnUNIoQj_POiJgK_.xlsx", "expected_range_texts": ["Nov 20, 2025 - Jan 11, 2026", "20 Nov 2025 - 11 Jan 2026", "Nov 20 2025 - Jan 11 2026"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:36:43.074892+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "ingest", "status": "warn", "message": "TD Orders workbook ingested with warnings", "warning_count": 1, "warning_samples": ["Invalid phone number dropped: A668--7051"], "warnings_truncated": false, "staging_rows": 435, "final_rows": 435, "ts": "2026-01-11T08:36:46.596497+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot skipped because DOM logging is disabled", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2014:4:32", "ts": "2026-01-11T08:36:46.596814+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot skipped because DOM logging is disabled", "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-11T08:36:46.719362+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": null, "samples": [], "ts": "2026-01-11T08:36:46.731580+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales navigation attempt", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:05:06:780", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2014:4:32"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2014:4:32"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2014:4:32"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:05:06:780"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:05:06:780"}], "page_title": "Quick DryCleaners", "ts": "2026-01-11T08:36:47.573449+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Navigated to Sales & Delivery report page", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:05:06:780", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "attempts": [{"navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "attempt": "initial", "retry_status": "initial", "success": true, "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:05:06:780", "target_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport", "nav_selector": "#achrOrderReport", "sales_nav_selector": null, "reason": "ok", "url_transitions": [{"label": "start", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2014:4:32"}, {"label": "already_on_orders", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2014:4:32"}, {"label": "orders_ready", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=0-0-2026%2014:4:32"}, {"label": "after_sales_nav_click", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:05:06:780"}, {"label": "after_sales_nav_wait", "url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:05:06:780"}], "nav_samples": null, "page_title": "Quick DryCleaners"}], "ts": "2026-01-11T08:36:47.573705+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "sales", "status": null, "message": "Sales navigation outcome", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:05:06:780", "reason": null, "page_title": "Quick DryCleaners", "attempts": null, "ts": "2026-01-11T08:36:47.581946+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport?ClearContent=11%20Jan%202026%2014:05:06:780", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/sales-and-delivery?token", "iframe_src_length": 764, "iframe_attached": true, "ts": "2026-01-11T08:36:47.643270+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations skipped because DOM logging is disabled", "ts": "2026-01-11T08:36:47.643409+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe_preflight", "status": "ok", "message": "Loading indicators cleared", "selectors": ["text=/loading/i", ".k-loading-mask"], "ts": "2026-01-11T08:36:49.274514+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-11-20", "to_value": "2026-01-11", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Nov 20, 2025 - Jan 11, 2026", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-11T08:36:56.215864+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 379, "ts": "2026-01-11T08:36:56.684926+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:36:56.761419+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-11T08:36:56.761544+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows (DOM logging disabled)", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-11T08:36:56.803819+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "status_text": "1 20 Nov 2025 - 11 Jan 2026 11 Jan 2026 02:06 PM Download", "expected_range_texts": ["Nov 20, 2025 - Jan 11, 2026", "20 Nov 2025 - 11 Jan 2026", "Nov 20 2025 - Jan 11 2026"], "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:38:27.753282+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "status_text": "1 20 Nov 2025 - 11 Jan 2026 11 Jan 2026 02:06 PM Download", "expected_range_texts": ["Nov 20, 2025 - Jan 11, 2026", "20 Nov 2025 - 11 Jan 2026", "Nov 20 2025 - Jan 11 2026"], "download_control_visible": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_sales_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:38:27.754195+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Sales report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20251120_20260111.xlsx", "suggested_filename": "1170-4BdC-0pF-MnF1U82jAwqc.xlsx", "expected_range_texts": ["Nov 20, 2025 - Jan 11, 2026", "20 Nov 2025 - 11 Jan 2026", "Nov 20 2025 - Jan 11 2026"], "download_locator_strategy": "href_contains_sales_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-11T08:38:28.542724+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales & Delivery report downloaded", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_sales_20251120_20260111.xlsx", "ts": "2026-01-11T08:38:28.542945+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "sales_ingest", "status": "warn", "message": "TD Sales workbook ingested with warnings", "warning_count": 1, "warning_samples": ["Invalid phone number dropped: A668--7051"], "warnings_truncated": false, "staging_rows": 483, "final_rows": 483, "ts": "2026-01-11T08:38:30.922367+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders iframe flow completed", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20251120_20260111.xlsx", "ts": "2026-01-11T08:38:30.922588+00:00"}
{"run_id": "20260111_082017293136_A668_004", "store_code": "A668", "phase": "store", "status": "ok", "message": "Completed TD orders store discovery", "session_reused": true, "ts": "2026-01-11T08:38:30.922704+00:00"}
{"run_id": "20260111_082017293136_A668_004", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-11T08:38:31.217034+00:00"}
{"run_id": "20260111_082017293136_A668_004", "phase": "run_summary", "status": "ok", "message": "Run summary inserted", "overall_status": "ok", "ts": "2026-01-11T08:38:31.244488+00:00"}
{"run_id": "20260111_082017293136_A668_004", "phase": "window", "status": "warn", "message": "orders_sync_log row missing; using pipeline run summary status", "store_code": "A668", "window_index": 4, "window_status": "success", "ts": "2026-01-11T08:38:40.168090+00:00"}