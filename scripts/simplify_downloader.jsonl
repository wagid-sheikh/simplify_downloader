{"run_id": "20260106_022533325906", "phase": "init", "status": "ok", "message": "Starting TD orders sync discovery flow", "run_env": "dev", "from_date": "2025-12-07", "to_date": "2026-01-06", "ts": "2026-01-06T02:25:33.328347+00:00"}
{"run_id": "20260106_022533325906", "phase": "init", "status": "warn", "message": "Temporarily restricting TD orders discovery to a subset of stores", "stores": ["A668", "A817"], "skipped_stores": null, "ts": "2026-01-06T02:25:33.388496+00:00"}
{"run_id": "20260106_022533325906", "phase": "init", "status": "ok", "message": "Loaded TD store rows", "store_count": 2, "stores": ["A668", "A817"], "ts": "2026-01-06T02:25:33.388608+00:00"}
{"run_id": "20260106_022533325906", "phase": "init", "status": "ok", "message": "Launching Playwright with local Chrome executable", "backend": "local_chrome", "executable_path": "/Applications/Google Chrome.app/Contents/MacOS/Google Chrome", "headless": false, "ts": "2026-01-06T02:25:34.524477+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-12-07", "to_date": "2026-01-06", "ts": "2026-01-06T02:25:35.482618+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "ts": "2026-01-06T02:25:36.362843+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-06T02:25:41.833067+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-06T02:25:41.833242+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-06T02:25:42.810947+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-06T02:25:42.811145+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-06T02:25:42.811269+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a668/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-06T02:25:44.592255+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "home", "status": "ok", "message": "Navigation controls snapshot", "links": [{"index": 0, "text": "Home    \n(Ctrl+H)", "href": "home.html?ClearContent=2-0-2026 7:55:44", "visible": true}, {"index": 1, "text": "Dashboard", "href": "Bookings_New/frmDashBoard.aspx?ClearContent=2-0-2026 7:55:44", "visible": true}, {"index": 2, "text": "Customer", "href": "New_Admin/frmNewCustomer.aspx?ClearContent=2-0-2026 7:55:44", "visible": true}], "link_count": 11, "ts": "2026-01-06T02:25:44.674190+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A668_storage_state.json", "verification_seen": false, "ts": "2026-01-06T02:25:44.685833+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot", "context": "orders_iframe:attempt_1:success", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=2-0-2026%207:55:44", "link_count": 52, "reports_count": 4, "links_truncated": true, "reports_truncated": true, "links": [{"index": 0, "text": "", "href": "#", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=2-0-2026%207:55:44", "visible": true}, {"index": 1, "text": "Home", "href": "../home.html?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/home.html?ClearContent=06 Jan 2026 07:56:15:050", "visible": false}, {"index": 2, "text": "Add New", "href": "../New_admin/frmNewCustomer.aspx?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/New_admin/frmNewCustomer.aspx?ClearContent=06 Jan 2026 07:56:15:050", "visible": false}, {"note": "…truncated"}], "reports_links": [{"index": 0, "text": "", "href": "#", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=2-0-2026%207:55:44", "visible": true}, {"index": 1, "text": "Orders", "href": "../Reports/OrderReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "visible": true}, {"index": 2, "text": "Sales and Delivery", "href": "../Reports/NEWSalesAndDeliveryReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "visible": true}, {"note": "…truncated"}], "ts": "2026-01-06T02:26:15.818083+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Navigated to Orders container via Reports entry", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=2-0-2026%207:55:44", "nav_selector": "#achrOrderReport", "locator_strategy": "reports_nav_selector", "attempt": 1, "ts": "2026-01-06T02:26:15.818529+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Report container ready; iframe attached", "final_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=2-0-2026%207:55:44", "page_title": "Quick DryCleaners", "iframe_src_hostname": "reports.quickdrycleaning.com", "iframe_src_prefix": "https://reports.quickdrycleaning.com/en/order-report?token=eyJhb", "iframe_src_length": 751, "iframe_attached": true, "ts": "2026-01-06T02:26:15.846988+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Iframe hydration observations", "observed_controls": [{"label": "download_link", "count": 1, "samples": ["Download historical report"], "samples_truncated": false}], "observed_spinners": [{"label": "kendo_loading_mask", "count": 0, "ever_visible": false, "visible": false}, {"label": "progress_loader", "count": 0, "ever_visible": false, "visible": false}, {"label": "loading_text", "count": 1, "ever_visible": true, "visible": true}], "ts": "2026-01-06T02:26:18.511631+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Clicked Expand button inside iframe", "ts": "2026-01-06T02:26:18.628448+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Date range set via date-range control", "from_value": "2025-12-07", "to_value": "2026-01-06", "numeric_input_count": 6, "used_numeric_triplets": true, "range_text": "Dec 7, 2025 - Jan 6, 2026", "update_click": {"found": true, "clicked": true}, "attempt": 1, "ts": "2026-01-06T02:26:21.118307+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report modal closed after request", "waited_ms": 371, "ts": "2026-01-06T02:26:21.577074+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests container located", "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-06T02:26:21.668190+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Using TD orders locator strategies", "container_locator_strategy": "heading_preferred_wrapper", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "ts": "2026-01-06T02:26:21.668302+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Observed Report Requests rows", "row_count": 10, "first_row_text": "S. No. Date Range Requested Status", "matched_range_examples": ["S. No. Date Range Requested Status", "07 Dec 2025 - 06 Jan 2026", "06 Dec 2025 - 05 Jan 2026"], "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-06T02:26:22.680180+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Captured Report Requests container structure", "label": "report_requests_after_request", "row_count": 39, "container_locator_strategy": "heading_preferred_wrapper", "ts": "2026-01-06T02:26:23.380574+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Selected Report Requests row for follow-up", "matched_range_text": "07 Dec 2025 - 06 Jan 2026", "status_text": "1 07 Dec 2025 - 06 Jan 2026 06 Jan 2026 07:56 AM Download", "expected_range_texts": ["Dec 7, 2025 - Jan 6, 2026", "07 Dec 2025 - 06 Jan 2026", "Dec 07, 2025 - Jan 06, 2026", "Dec 07 2025 - Jan 06 2026", "07 Dec 2025 - 6 Jan 2026", "Dec 07, 2025 - Jan 6, 2026", "Dec 07 2025 - Jan 6 2026", "7 Dec 2025 - 06 Jan 2026", "Dec 7, 2025 - Jan 06, 2026", "Dec 7 2025 - Jan 06 2026", "7 Dec 2025 - 6 Jan 2026", "Dec 7 2025 - Jan 6 2026"], "row_count": 36, "row_samples": ["07 Dec 2025 - 06 Jan 2026", "06 Dec 2025 - 05 Jan 2026", "05 Dec 2025 - 04 Jan 2026", "…truncated"], "rows_truncated": true, "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-06T02:27:54.635375+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Report Requests row ready for download", "matched_range_text": "07 Dec 2025 - 06 Jan 2026", "status_text": "1 07 Dec 2025 - 06 Jan 2026 06 Jan 2026 07:56 AM Download", "expected_range_texts": ["Dec 7, 2025 - Jan 6, 2026", "07 Dec 2025 - 06 Jan 2026", "Dec 07, 2025 - Jan 06, 2026", "Dec 07 2025 - Jan 06 2026", "07 Dec 2025 - 6 Jan 2026", "Dec 07, 2025 - Jan 6, 2026", "Dec 07 2025 - Jan 6 2026", "7 Dec 2025 - 06 Jan 2026", "Dec 7, 2025 - Jan 06, 2026", "Dec 7 2025 - Jan 06 2026", "7 Dec 2025 - 6 Jan 2026", "Dec 7 2025 - Jan 6 2026"], "row_count": 36, "row_samples": ["07 Dec 2025 - 06 Jan 2026", "06 Dec 2025 - 05 Jan 2026", "05 Dec 2025 - 04 Jan 2026", "…truncated"], "rows_truncated": true, "download_control_visible": true, "matched_row_text_full": "07 Dec 2025 - 06 Jan 2026", "range_match_strategy": "date_range_text_pattern", "download_locator_strategy": "href_contains_order_reports", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-06T02:27:54.636763+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "iframe", "status": "ok", "message": "Orders report download saved", "download_path": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/data/A668_td_orders_20251207_20260106.xlsx", "suggested_filename": "1170-hcRrvdiQhHGbS_EVHS1IE.xlsx", "matched_range_text": "07 Dec 2025 - 06 Jan 2026", "expected_range_texts": ["Dec 7, 2025 - Jan 6, 2026", "07 Dec 2025 - 06 Jan 2026", "Dec 07, 2025 - Jan 06, 2026", "Dec 07 2025 - Jan 06 2026", "07 Dec 2025 - 6 Jan 2026", "Dec 07, 2025 - Jan 6, 2026", "Dec 07 2025 - Jan 6 2026", "7 Dec 2025 - 06 Jan 2026", "Dec 7, 2025 - Jan 06, 2026", "Dec 7 2025 - Jan 06 2026", "7 Dec 2025 - 6 Jan 2026", "Dec 7 2025 - Jan 6 2026"], "download_locator_strategy": "href_contains_order_reports", "range_match_strategy": "date_range_text_pattern", "container_locator_strategy": "heading_preferred_wrapper", "selected_row_state": "downloadable", "selection_source": "downloadable_row", "ts": "2026-01-06T02:27:55.138442+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "ingest", "status": "warn", "message": "TD Orders workbook ingested with warnings", "warning_count": 1, "warning_samples": ["Invalid phone number dropped: A668--7051"], "warnings_truncated": false, "staging_rows": 247, "final_rows": 247, "ts": "2026-01-06T02:27:57.302781+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "orders", "status": "ok", "message": "Orders left-nav snapshot", "context": "sales_left_nav:initial:already_on_orders", "sales_only_mode": false, "nav_url": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=2-0-2026%207:55:44", "link_count": 52, "reports_count": 4, "links_truncated": true, "reports_truncated": true, "links": [{"index": 0, "text": "", "href": "#", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=2-0-2026%207:55:44", "visible": true}, {"index": 1, "text": "Home", "href": "../home.html?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/home.html?ClearContent=06 Jan 2026 07:56:15:050", "visible": false}, {"index": 2, "text": "Add New", "href": "../New_admin/frmNewCustomer.aspx?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/New_admin/frmNewCustomer.aspx?ClearContent=06 Jan 2026 07:56:15:050", "visible": false}, {"note": "…truncated"}], "reports_links": [{"index": 0, "text": "", "href": "#", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport?ClearContent=2-0-2026%207:55:44", "visible": true}, {"index": 1, "text": "Orders", "href": "../Reports/OrderReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "visible": false}, {"index": 2, "text": "Sales and Delivery", "href": "../Reports/NEWSalesAndDeliveryReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "visible": false}, {"note": "…truncated"}], "ts": "2026-01-06T02:27:57.461777+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Sales left-nav submenu snapshot", "samples": [{"index": 0, "href": "../Reports/OrderReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "text": "Orders", "normalized_text": "orders", "visible": true, "matches_label": false}, {"index": 1, "href": "../Reports/NEWSalesAndDeliveryReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "text": "Sales and Delivery", "normalized_text": "sales and delivery", "visible": true, "matches_label": true}, {"index": 2, "href": "../Reports/frmProcessWiseReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/frmProcessWiseReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "text": "Service Wise Order", "normalized_text": "service wise order", "visible": true, "matches_label": false}, {"note": "…truncated"}], "samples_truncated": true, "link_count": 10, "submenu_visible": true, "hover_attempted": true, "hover_error": null, "ts": "2026-01-06T02:27:57.661100+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "sales", "status": "ok", "message": "Clicking Sales navigation from Orders left-nav", "navigation_method": "orders_left_nav", "navigation_path": "orders_left_nav", "retry_status": "initial", "sales_nav_href": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "samples": [{"index": 0, "href": "../Reports/OrderReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/OrderReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "text": "Orders", "normalized_text": "orders", "visible": true, "matches_label": false}, {"index": 1, "href": "../Reports/NEWSalesAndDeliveryReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/NEWSalesAndDeliveryReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "text": "Sales and Delivery", "normalized_text": "sales and delivery", "visible": true, "matches_label": true}, {"index": 2, "href": "../Reports/frmProcessWiseReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "normalized_href": "https://subs.quickdrycleaning.com/a668/App/Reports/frmProcessWiseReport.aspx?ClearContent=06 Jan 2026 07:56:15:050", "text": "Service Wise Order", "normalized_text": "service wise order", "visible": true, "matches_label": false}, {"note": "…truncated"}], "ts": "2026-01-06T02:27:57.673165+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A668", "phase": "store", "status": "error", "message": "TD orders discovery failed", "error": "app.dashboard_downloader.json_logger.log_event() got multiple values for keyword argument 'page_title'", "ts": "2026-01-06T02:27:58.313437+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A817", "phase": "store", "status": "ok", "message": "Starting TD orders store discovery", "run_env": "dev", "from_date": "2025-12-07", "to_date": "2026-01-06", "ts": "2026-01-06T02:27:58.380199+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state found; probing session validity", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "ts": "2026-01-06T02:27:58.779286+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A817", "phase": "session", "status": "warn", "message": "Probed session with existing storage state", "response_status": 200, "final_url": "https://subs.quickdrycleaning.com/Login", "contains_store_code": false, "verification_seen": false, "login_detected": true, "nav_visible": false, "home_card_visible": false, "state_valid": false, "invalid_reason": "login_form_visible", "probe_error": null, "probe_target": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_path": false, "ts": "2026-01-06T02:28:04.171835+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A817", "phase": "session", "status": "ok", "message": "Storage state probe invalid; performing login", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "verification_seen": false, "nav_visible": false, "home_card_visible": false, "re_login_performed": true, "ts": "2026-01-06T02:28:04.172052+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A817", "phase": "login", "status": "ok", "message": "Completed login attempt", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "contains_store_code": true, "post_login_wait_completed": "url_contains_store_code", "post_login_wait_error": null, "submit_error": null, "selectors": {"username": "#txtUserId", "password": "#txtPassword", "store_code": "#txtBranchPin", "submit": "#btnLogin"}, "ts": "2026-01-06T02:28:05.094687+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A817", "phase": "session", "status": "ok", "message": "Login completed; session ready", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "probe_reason": "login_form_visible", "probe_valid": false, "login_performed": true, "re_login_performed": true, "ts": "2026-01-06T02:28:05.094878+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A817", "phase": "session", "status": "ok", "message": "Session ready after OTP/verification wait", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "verification_seen": false, "login_performed": true, "ts": "2026-01-06T02:28:05.095066+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A817", "phase": "login", "status": "ok", "message": "Home page ready after login/verification", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "nav_selector": "#achrOrderReport", "nav_visible": true, "home_card_visible": false, "ts": "2026-01-06T02:28:06.874367+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A817", "phase": "home", "status": "ok", "message": "Navigation controls snapshot", "links": [{"index": 0, "text": "Home    \n(Ctrl+H)", "href": "home.html?ClearContent=2-0-2026 7:58:6", "visible": true}, {"index": 1, "text": "Dashboard", "href": "Bookings_New/frmDashBoard.aspx?ClearContent=2-0-2026 7:58:6", "visible": false}, {"index": 2, "text": "Customer", "href": "New_Admin/frmNewCustomer.aspx?ClearContent=2-0-2026 7:58:6", "visible": true}], "link_count": 11, "ts": "2026-01-06T02:28:06.957256+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A817", "phase": "session", "status": "ok", "message": "Stored refreshed session state after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "verification_seen": false, "ts": "2026-01-06T02:28:06.965789+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A817", "phase": "session", "status": "ok", "message": "Persisted storage state for A817 after home detection", "storage_state": "/Users/wagidsheikh/Documents/programming/python/simplify_downloader/app/crm_downloader/profiles/A817_storage_state.json", "session_reused": true, "refreshed": true, "ts": "2026-01-06T02:28:06.965859+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A817", "phase": "orders", "status": "warn", "message": "Orders left-nav snapshot not available", "context": "orders_iframe:failed", "sales_only_mode": false, "error": "Locator.wait_for: Timeout 90000ms exceeded.\nCall log:\n  - waiting for locator(\"ul.nav.nav-sidebar\") to be visible\n", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "ts": "2026-01-06T02:32:40.150372+00:00"}
{"run_id": "20260106_022533325906", "store_code": "A817", "phase": "orders", "status": "error", "message": "Orders container navigation failed after retries", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True", "page_title": "Quick Drycleaning Software", "step": "orders_iframe", "nav_selector": "#achrOrderReport", "attempts": [{"attempt": 1, "locator_strategy": "reports_nav_selector", "nav_selector": "#achrOrderReport", "reason": "click_failed:Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"#achrOrderReport\").first\n    - locator resolved to <a class=\"padding6\" id=\"achrOrderReport\" onclick=\"return checkAccessRights('Orders')\" href=\"Reports/OrderReport.aspx?ClearContent=2-0-2026 7:58:8\">…</a>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div tabindex=\"-1\" role=\"dialog\" class=\"modal in\" aria-hidden=\"true\" id=\"pnlOrderOverDuePopup\" aria-labelledby=\"myModalLabel\">…</div> intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div tabindex=\"-1\" role=\"dialog\" class=\"modal in\" aria-hidden=\"true\" id=\"pnlOrderOverDuePopup\" aria-labelledby=\"myModalLabel\">…</div> intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    56 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <div tabindex=\"-1\" role=\"dialog\" class=\"modal in\" aria-hidden=\"true\" id=\"pnlOrderOverDuePopup\" aria-labelledby=\"myModalLabel\">…</div> intercepts pointer events\n     - retrying click action\n       - waiting 500ms\n", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True"}, {"attempt": 2, "locator_strategy": "reports_nav_selector", "nav_selector": "#achrOrderReport", "reason": "click_failed:Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"#achrOrderReport\").first\n    - locator resolved to <a class=\"padding6\" id=\"achrOrderReport\" onclick=\"return checkAccessRights('Orders')\" href=\"Reports/OrderReport.aspx?ClearContent=2-0-2026 7:58:8\">…</a>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div tabindex=\"-1\" role=\"dialog\" class=\"modal in\" aria-hidden=\"true\" id=\"pnlOrderOverDuePopup\" aria-labelledby=\"myModalLabel\">…</div> intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div tabindex=\"-1\" role=\"dialog\" class=\"modal in\" aria-hidden=\"true\" id=\"pnlOrderOverDuePopup\" aria-labelledby=\"myModalLabel\">…</div> intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    57 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <div tabindex=\"-1\" role=\"dialog\" class=\"modal in\" aria-hidden=\"true\" id=\"pnlOrderOverDuePopup\" aria-labelledby=\"myModalLabel\">…</div> intercepts pointer events\n     - retrying click action\n       - waiting 500ms\n", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True"}, {"attempt": 3, "locator_strategy": "reports_nav_selector", "nav_selector": "#achrOrderReport", "reason": "click_failed:Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"#achrOrderReport\").first\n    - locator resolved to <a class=\"padding6\" id=\"achrOrderReport\" onclick=\"return checkAccessRights('Orders')\" href=\"Reports/OrderReport.aspx?ClearContent=2-0-2026 7:58:8\">…</a>\n  - attempting click action\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div tabindex=\"-1\" role=\"dialog\" class=\"modal in\" aria-hidden=\"true\" id=\"pnlOrderOverDuePopup\" aria-labelledby=\"myModalLabel\">…</div> intercepts pointer events\n    - retrying click action\n    - waiting 20ms\n    2 × waiting for element to be visible, enabled and stable\n      - element is visible, enabled and stable\n      - scrolling into view if needed\n      - done scrolling\n      - <div tabindex=\"-1\" role=\"dialog\" class=\"modal in\" aria-hidden=\"true\" id=\"pnlOrderOverDuePopup\" aria-labelledby=\"myModalLabel\">…</div> intercepts pointer events\n    - retrying click action\n      - waiting 100ms\n    56 × waiting for element to be visible, enabled and stable\n       - element is visible, enabled and stable\n       - scrolling into view if needed\n       - done scrolling\n       - <div tabindex=\"-1\" role=\"dialog\" class=\"modal in\" aria-hidden=\"true\" id=\"pnlOrderOverDuePopup\" aria-labelledby=\"myModalLabel\">…</div> intercepts pointer events\n     - retrying click action\n       - waiting 500ms\n", "final_url": "https://subs.quickdrycleaning.com/a817/App/home?EventClick=True"}], "ts": "2026-01-06T02:32:40.150797+00:00"}
{"run_id": "20260106_022533325906", "phase": "notifications", "status": "ok", "message": "TD orders sync discovery flow complete; notifying", "run_env": "dev", "ts": "2026-01-06T02:32:40.541271+00:00"}
{"run_id": "20260106_022533325906", "phase": "run_summary", "status": "ok", "message": "Run summary inserted", "overall_status": "error", "ts": "2026-01-06T02:32:40.597794+00:00"}
